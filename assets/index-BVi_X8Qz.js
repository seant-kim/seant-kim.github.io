(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const dn={context:void 0,registry:void 0,getContextId(){return Gt(this.context.count)},getNextContextId(){return Gt(this.context.count++)}};function Gt(e){const t=String(e),n=t.length-1;return dn.context.id+(n?String.fromCharCode(96+n):"")+t}const Vn=(e,t)=>e===t,Me=Symbol("solid-proxy"),fn=Symbol("solid-track"),Ve={equals:Vn};let we=null,hn=bn;const J=1,qe=2,mn={owned:null,cleanups:null,context:null,owner:null};var S=null;let dt=null,qn=null,D=null,R=null,Z=null,rt=0;function ee(e,t){const n=D,l=S,r=e.length===0,s=t===void 0?l:t,c=r?mn:{owned:null,cleanups:null,context:s?s.context:null,owner:s},a=r?e:()=>e(()=>F(()=>it(c)));S=c,D=null;try{return ne(a,!0)}finally{D=n,S=l}}function _(e,t){t=t?Object.assign({},Ve,t):Ve;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},l=r=>(typeof r=="function"&&(r=r(n.value)),pn(n,r));return[$n.bind(n),l]}function C(e,t,n){const l=st(e,t,!1,J);Ee(l)}function gn(e,t,n){hn=Wn;const l=st(e,t,!1,J);(!n||!n.render)&&(l.user=!0),Z?Z.push(l):Ee(l)}function E(e,t,n){n=n?Object.assign({},Ve,n):Ve;const l=st(e,t,!0,0);return l.observers=null,l.observerSlots=null,l.comparator=n.equals||void 0,Ee(l),$n.bind(l)}function Hn(e){return ne(e,!1)}function F(e){if(D===null)return e();const t=D;D=null;try{return e()}finally{D=t}}function Et(e,t,n){const l=Array.isArray(e);let r,s=n&&n.defer;return c=>{let a;if(l){a=Array(e.length);for(let o=0;o<e.length;o++)a[o]=e[o]()}else a=e();if(s)return s=!1,c;const i=F(()=>t(a,r,c));return r=a,i}}function W(e){gn(()=>F(e))}function te(e){return S===null||(S.cleanups===null?S.cleanups=[e]:S.cleanups.push(e)),e}function Un(e,t){we||(we=Symbol("error")),S=st(void 0,void 0,!0),S.context={...S.context,[we]:[t]};try{return e()}catch(n){Pe(n)}finally{S=S.owner}}function Pt(){return S}function Ot(e,t){const n=S,l=D;S=e,D=null;try{return ne(t,!0)}catch(r){Pe(r)}finally{S=n,D=l}}function Kn(e){const t=D,n=S;return Promise.resolve().then(()=>{D=t,S=n;let l;return ne(e,!1),D=S=null,l?l.done:void 0})}function vn(e,t){const n=Symbol("context");return{id:n,Provider:Yn(n),defaultValue:e}}function Dt(e){let t;return S&&S.context&&(t=S.context[e.id])!==void 0?t:e.defaultValue}function jt(e){const t=E(e),n=E(()=>yt(t()));return n.toArray=()=>{const l=n();return Array.isArray(l)?l:l!=null?[l]:[]},n}function $n(){if(this.sources&&this.state)if(this.state===J)Ee(this);else{const e=R;R=null,ne(()=>Ue(this),!1),R=e}if(D){const e=this.observers?this.observers.length:0;D.sources?(D.sources.push(this),D.sourceSlots.push(e)):(D.sources=[this],D.sourceSlots=[e]),this.observers?(this.observers.push(D),this.observerSlots.push(D.sources.length-1)):(this.observers=[D],this.observerSlots=[D.sources.length-1])}return this.value}function pn(e,t,n){let l=e.value;return(!e.comparator||!e.comparator(l,t))&&(e.value=t,e.observers&&e.observers.length&&ne(()=>{for(let r=0;r<e.observers.length;r+=1){const s=e.observers[r],c=dt&&dt.running;c&&dt.disposed.has(s),(c?!s.tState:!s.state)&&(s.pure?R.push(s):Z.push(s),s.observers&&xn(s)),c||(s.state=J)}if(R.length>1e6)throw R=[],new Error},!1)),t}function Ee(e){if(!e.fn)return;it(e);const t=rt;Zn(e,e.value,t)}function Zn(e,t,n){let l;const r=S,s=D;D=S=e;try{l=e.fn(t)}catch(c){return e.pure&&(e.state=J,e.owned&&e.owned.forEach(it),e.owned=null),e.updatedAt=n+1,Pe(c)}finally{D=s,S=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?pn(e,l):e.value=l,e.updatedAt=n)}function st(e,t,n,l=J,r){const s={fn:e,state:l,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:S,context:S?S.context:null,pure:n};return S===null||S!==mn&&(S.owned?S.owned.push(s):S.owned=[s]),s}function He(e){if(e.state===0)return;if(e.state===qe)return Ue(e);if(e.suspense&&F(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<rt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===J)Ee(e);else if(e.state===qe){const l=R;R=null,ne(()=>Ue(e,t[0]),!1),R=l}}function ne(e,t){if(R)return e();let n=!1;t||(R=[]),Z?n=!0:Z=[],rt++;try{const l=e();return zn(n),l}catch(l){n||(Z=null),R=null,Pe(l)}}function zn(e){if(R&&(bn(R),R=null),e)return;const t=Z;Z=null,t.length&&ne(()=>hn(t),!1)}function bn(e){for(let t=0;t<e.length;t++)He(e[t])}function Wn(e){let t,n=0;for(t=0;t<e.length;t++){const l=e[t];l.user?e[n++]=l:He(l)}for(t=0;t<n;t++)He(e[t])}function Ue(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const l=e.sources[n];if(l.sources){const r=l.state;r===J?l!==t&&(!l.updatedAt||l.updatedAt<rt)&&He(l):r===qe&&Ue(l,t)}}}function xn(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=qe,n.pure?R.push(n):Z.push(n),n.observers&&xn(n))}}function it(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),l=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const s=r.pop(),c=n.observerSlots.pop();l<r.length&&(s.sourceSlots[c]=l,r[l]=s,n.observerSlots[l]=c)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)it(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Gn(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Yt(e,t,n){try{for(const l of t)l(e)}catch(l){Pe(l,n&&n.owner||null)}}function Pe(e,t=S){const n=we&&t&&t.context&&t.context[we],l=Gn(e);if(!n)throw l;Z?Z.push({fn(){Yt(l,n,t)},state:J}):Yt(l,n,t)}function yt(e){if(typeof e=="function"&&!e.length)return yt(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const l=yt(e[n]);Array.isArray(l)?t.push.apply(t,l):t.push(l)}return t}return e}function Yn(e,t){return function(l){let r;return C(()=>r=F(()=>(S.context={...S.context,[e]:l.value},jt(()=>l.children))),void 0),r}}const wt=Symbol("fallback");function Ke(e){for(let t=0;t<e.length;t++)e[t]()}function Xn(e,t,n={}){let l=[],r=[],s=[],c=0,a=t.length>1?[]:null;return te(()=>Ke(s)),()=>{let i=e()||[],o=i.length,h,f;return i[fn],F(()=>{let p,$,v,b,x,y,P,L,k;if(o===0)c!==0&&(Ke(s),s=[],l=[],r=[],c=0,a&&(a=[])),n.fallback&&(l=[wt],r[0]=ee(T=>(s[0]=T,n.fallback())),c=1);else if(c===0){for(r=new Array(o),f=0;f<o;f++)l[f]=i[f],r[f]=ee(g);c=o}else{for(v=new Array(o),b=new Array(o),a&&(x=new Array(o)),y=0,P=Math.min(c,o);y<P&&l[y]===i[y];y++);for(P=c-1,L=o-1;P>=y&&L>=y&&l[P]===i[L];P--,L--)v[L]=r[P],b[L]=s[P],a&&(x[L]=a[P]);for(p=new Map,$=new Array(L+1),f=L;f>=y;f--)k=i[f],h=p.get(k),$[f]=h===void 0?-1:h,p.set(k,f);for(h=y;h<=P;h++)k=l[h],f=p.get(k),f!==void 0&&f!==-1?(v[f]=r[h],b[f]=s[h],a&&(x[f]=a[h]),f=$[f],p.set(k,f)):s[h]();for(f=y;f<o;f++)f in v?(r[f]=v[f],s[f]=b[f],a&&(a[f]=x[f],a[f](f))):r[f]=ee(g);r=r.slice(0,c=o),l=i.slice(0)}return r});function g(p){if(s[f]=p,a){const[$,v]=_(f);return a[f]=v,t(i[f],$)}return t(i[f])}}}function Jn(e,t,n={}){let l=[],r=[],s=[],c=[],a=0,i;return te(()=>Ke(s)),()=>{const o=e()||[],h=o.length;return o[fn],F(()=>{if(h===0)return a!==0&&(Ke(s),s=[],l=[],r=[],a=0,c=[]),n.fallback&&(l=[wt],r[0]=ee(g=>(s[0]=g,n.fallback())),a=1),r;for(l[0]===wt&&(s[0](),s=[],l=[],r=[],a=0),i=0;i<h;i++)i<l.length&&l[i]!==o[i]?c[i](()=>o[i]):i>=l.length&&(r[i]=ee(f));for(;i<l.length;i++)s[i]();return a=c.length=s.length=h,l=o.slice(0),r=r.slice(0,a)});function f(g){s[i]=g;const[p,$]=_(o[i]);return c[i]=$,t(p,i)}}}function d(e,t){return F(()=>e(t||{}))}function Te(){return!0}const _t={get(e,t,n){return t===Me?n:e.get(t)},has(e,t){return t===Me?!0:e.has(t)},set:Te,deleteProperty:Te,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Te,deleteProperty:Te}},ownKeys(e){return e.keys()}};function ft(e){return(e=typeof e=="function"?e():e)?e:{}}function Qn(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function Ct(...e){let t=!1;for(let c=0;c<e.length;c++){const a=e[c];t=t||!!a&&Me in a,e[c]=typeof a=="function"?(t=!0,E(a)):a}if(t)return new Proxy({get(c){for(let a=e.length-1;a>=0;a--){const i=ft(e[a])[c];if(i!==void 0)return i}},has(c){for(let a=e.length-1;a>=0;a--)if(c in ft(e[a]))return!0;return!1},keys(){const c=[];for(let a=0;a<e.length;a++)c.push(...Object.keys(ft(e[a])));return[...new Set(c)]}},_t);const n={},l=Object.create(null);for(let c=e.length-1;c>=0;c--){const a=e[c];if(!a)continue;const i=Object.getOwnPropertyNames(a);for(let o=i.length-1;o>=0;o--){const h=i[o];if(h==="__proto__"||h==="constructor")continue;const f=Object.getOwnPropertyDescriptor(a,h);if(!l[h])l[h]=f.get?{enumerable:!0,configurable:!0,get:Qn.bind(n[h]=[f.get.bind(a)])}:f.value!==void 0?f:void 0;else{const g=n[h];g&&(f.get?g.push(f.get.bind(a)):f.value!==void 0&&g.push(()=>f.value))}}}const r={},s=Object.keys(l);for(let c=s.length-1;c>=0;c--){const a=s[c],i=l[a];i&&i.get?Object.defineProperty(r,a,i):r[a]=i?i.value:void 0}return r}function el(e,...t){if(Me in e){const r=new Set(t.length>1?t.flat():t[0]),s=t.map(c=>new Proxy({get(a){return c.includes(a)?e[a]:void 0},has(a){return c.includes(a)&&a in e},keys(){return c.filter(a=>a in e)}},_t));return s.push(new Proxy({get(c){return r.has(c)?void 0:e[c]},has(c){return r.has(c)?!1:c in e},keys(){return Object.keys(e).filter(c=>!r.has(c))}},_t)),s}const n={},l=t.map(()=>({}));for(const r of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,r),c=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let a=!1,i=0;for(const o of t)o.includes(r)&&(a=!0,c?l[i][r]=s.value:Object.defineProperty(l[i],r,s)),++i;a||(c?n[r]=s.value:Object.defineProperty(n,r,s))}return[...l,n]}const tl=e=>`Stale read from <${e}>.`;function q(e){const t="fallback"in e&&{fallback:()=>e.fallback};return E(Xn(()=>e.each,e.children,t||void 0))}function nl(e){const t="fallback"in e&&{fallback:()=>e.fallback};return E(Jn(()=>e.each,e.children,t||void 0))}function w(e){const t=e.keyed,n=E(()=>e.when,void 0,{equals:(l,r)=>t?l===r:!l==!r});return E(()=>{const l=n();if(l){const r=e.children;return typeof r=="function"&&r.length>0?F(()=>r(t?l:()=>{if(!F(n))throw tl("Show");return e.when})):r}return e.fallback},void 0,void 0)}let he;function ll(){he&&[...he].forEach(e=>e())}function rl(e){let t;const[n,l]=_(t,void 0);return he||(he=new Set),he.add(l),te(()=>he.delete(l)),E(()=>{let r;if(r=n()){const s=e.fallback;return typeof s=="function"&&s.length?F(()=>s(r,()=>l())):s}return Un(()=>e.children,l)},void 0,void 0)}const sl=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],il=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...sl]),al=new Set(["innerHTML","textContent","innerText","children"]),cl=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),ol=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function ul(e,t){const n=ol[e];return typeof n=="object"?n[t]?n.$:void 0:n}const dl=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]);function fl(e,t,n){let l=n.length,r=t.length,s=l,c=0,a=0,i=t[r-1].nextSibling,o=null;for(;c<r||a<s;){if(t[c]===n[a]){c++,a++;continue}for(;t[r-1]===n[s-1];)r--,s--;if(r===c){const h=s<l?a?n[a-1].nextSibling:n[s-a]:i;for(;a<s;)e.insertBefore(n[a++],h)}else if(s===a)for(;c<r;)(!o||!o.has(t[c]))&&t[c].remove(),c++;else if(t[c]===n[s-1]&&n[a]===t[r-1]){const h=t[--r].nextSibling;e.insertBefore(n[a++],t[c++].nextSibling),e.insertBefore(n[--s],h),t[r]=n[s]}else{if(!o){o=new Map;let f=a;for(;f<s;)o.set(n[f],f++)}const h=o.get(t[c]);if(h!=null)if(a<h&&h<s){let f=c,g=1,p;for(;++f<r&&f<s&&!((p=o.get(t[f]))==null||p!==h+g);)g++;if(g>h-a){const $=t[c];for(;a<h;)e.insertBefore(n[a++],$)}else e.replaceChild(n[a++],t[c++])}else c++;else t[c++].remove()}}}const Xt="_$DX_DELEGATE";function hl(e,t,n,l={}){let r;return ee(s=>{r=s,t===document?e():u(t,e(),t.firstChild?null:void 0,n)},l.owner),()=>{r(),t.textContent=""}}function m(e,t,n){let l;const r=()=>{const c=document.createElement("template");return c.innerHTML=e,c.content.firstChild},s=()=>(l||(l=r())).cloneNode(!0);return s.cloneNode=s,s}function Q(e,t=window.document){const n=t[Xt]||(t[Xt]=new Set);for(let l=0,r=e.length;l<r;l++){const s=e[l];n.has(s)||(n.add(s),t.addEventListener(s,xl))}}function N(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function le(e,t){t==null?e.removeAttribute("class"):e.className=t}function ml(e,t,n,l){if(l)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=s=>r.call(e,n[1],s))}else e.addEventListener(t,n)}function gl(e,t,n={}){const l=Object.keys(t||{}),r=Object.keys(n);let s,c;for(s=0,c=r.length;s<c;s++){const a=r[s];!a||a==="undefined"||t[a]||(Jt(e,a,!1),delete n[a])}for(s=0,c=l.length;s<c;s++){const a=l[s],i=!!t[a];!a||a==="undefined"||n[a]===i||!i||(Jt(e,a,!0),n[a]=i)}return n}function vl(e,t,n){if(!t)return n?N(e,"style"):t;const l=e.style;if(typeof t=="string")return l.cssText=t;typeof n=="string"&&(l.cssText=n=void 0),n||(n={}),t||(t={});let r,s;for(s in n)t[s]==null&&l.removeProperty(s),delete n[s];for(s in t)r=t[s],r!==n[s]&&(l.setProperty(s,r),n[s]=r);return n}function $l(e,t={},n,l){const r={};return C(()=>r.children=Le(e,t.children,r.children)),C(()=>typeof t.ref=="function"&&at(t.ref,e)),C(()=>pl(e,t,n,!0,r,!0)),r}function at(e,t,n){return F(()=>e(t,n))}function u(e,t,n,l){if(n!==void 0&&!l&&(l=[]),typeof t!="function")return Le(e,t,l,n);C(r=>Le(e,t(),r,n),l)}function pl(e,t,n,l,r={},s=!1){t||(t={});for(const c in r)if(!(c in t)){if(c==="children")continue;r[c]=Qt(e,c,null,r[c],n,s)}for(const c in t){if(c==="children")continue;const a=t[c];r[c]=Qt(e,c,a,r[c],n,s)}}function bl(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Jt(e,t,n){const l=t.trim().split(/\s+/);for(let r=0,s=l.length;r<s;r++)e.classList.toggle(l[r],n)}function Qt(e,t,n,l,r,s){let c,a,i,o,h;if(t==="style")return vl(e,n,l);if(t==="classList")return gl(e,n,l);if(n===l)return l;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const f=t.slice(3);l&&e.removeEventListener(f,l),n&&e.addEventListener(f,n)}else if(t.slice(0,10)==="oncapture:"){const f=t.slice(10);l&&e.removeEventListener(f,l,!0),n&&e.addEventListener(f,n,!0)}else if(t.slice(0,2)==="on"){const f=t.slice(2).toLowerCase(),g=dl.has(f);if(!g&&l){const p=Array.isArray(l)?l[0]:l;e.removeEventListener(f,p)}(g||n)&&(ml(e,f,n,g),g&&Q([f]))}else t.slice(0,5)==="attr:"?N(e,t.slice(5),n):(h=t.slice(0,5)==="prop:")||(i=al.has(t))||(o=ul(t,e.tagName))||(a=il.has(t))||(c=e.nodeName.includes("-"))?(h&&(t=t.slice(5),a=!0),t==="class"||t==="className"?le(e,n):c&&!a&&!i?e[bl(t)]=n:e[o||t]=n):N(e,cl[t]||t,n);return n}function xl(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const l=n[t];if(l&&!n.disabled){const r=n[`${t}Data`];if(r!==void 0?l.call(n,r,e):l.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Le(e,t,n,l,r){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,c=l!==void 0;if(e=c&&n[0]&&n[0].parentNode||e,s==="string"||s==="number"){if(s==="number"&&(t=t.toString(),t===n))return n;if(c){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=fe(e,n,l,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||s==="boolean")n=fe(e,n,l);else{if(s==="function")return C(()=>{let a=t();for(;typeof a=="function";)a=a();n=Le(e,a,n,l)}),()=>n;if(Array.isArray(t)){const a=[],i=n&&Array.isArray(n);if(kt(a,t,n,r))return C(()=>n=Le(e,a,n,l,!0)),()=>n;if(a.length===0){if(n=fe(e,n,l),c)return n}else i?n.length===0?en(e,a,l):fl(e,n,a):(n&&fe(e),en(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(c)return n=fe(e,n,l,t);fe(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function kt(e,t,n,l){let r=!1;for(let s=0,c=t.length;s<c;s++){let a=t[s],i=n&&n[e.length],o;if(!(a==null||a===!0||a===!1))if((o=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))r=kt(e,a,i)||r;else if(o==="function")if(l){for(;typeof a=="function";)a=a();r=kt(e,Array.isArray(a)?a:[a],Array.isArray(i)?i:[i])||r}else e.push(a),r=!0;else{const h=String(a);i&&i.nodeType===3&&i.data===h?e.push(i):e.push(document.createTextNode(h))}}return r}function en(e,t,n=null){for(let l=0,r=t.length;l<r;l++)e.insertBefore(t[l],n)}function fe(e,t,n,l){if(n===void 0)return e.textContent="";const r=l||document.createTextNode("");if(t.length){let s=!1;for(let c=t.length-1;c>=0;c--){const a=t[c];if(r!==a){const i=a.parentNode===e;!s&&!c?i?e.replaceChild(r,a):e.insertBefore(r,n):i&&a.remove()}else s=!0}}else e.insertBefore(r,n);return[r]}const yl=!1,wl="http://www.w3.org/2000/svg";function _l(e,t=!1){return t?document.createElementNS(wl,e):document.createElement(e)}function Cl(e){const{useShadow:t}=e,n=document.createTextNode(""),l=()=>e.mount||document.body,r=Pt();let s,c=!!dn.context;return gn(()=>{s||(s=Ot(r,()=>E(()=>e.children)));const a=l();if(a instanceof HTMLHeadElement){const[i,o]=_(!1),h=()=>o(!0);ee(f=>u(a,()=>i()?f():s(),null)),te(h)}else{const i=_l(e.isSVG?"g":"div",e.isSVG),o=t&&i.attachShadow?i.attachShadow({mode:"open"}):i;Object.defineProperty(i,"_$host",{get(){return n.parentNode},configurable:!0}),u(o,s),a.appendChild(i),e.ref&&e.ref(i),te(()=>a.removeChild(i))}},void 0,{render:!c}),n}const kl="/assets/logo-Dz2qjhJq.svg";function yn(){let e=new Set;function t(r){return e.add(r),()=>e.delete(r)}let n=!1;function l(r,s){if(n)return!(n=!1);const c={to:r,options:s,defaultPrevented:!1,preventDefault:()=>c.defaultPrevented=!0};for(const a of e)a.listener({...c,from:a.location,retry:i=>{i&&(n=!0),a.navigate(r,{...s,resolve:!1})}});return!c.defaultPrevented}return{subscribe:t,confirm:l}}let St;function Bt(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),St=window.history.state._depth}Bt();function Sl(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function Al(e,t){let n=!1;return()=>{const l=St;Bt();const r=l==null?null:St-l;if(n){n=!1;return}r&&t(r)?(n=!0,window.history.go(-r)):e()}}const Ll=/^(?:[a-z0-9]+:)?\/\//i,Nl=/^\/+|(\/)\/+$/g,wn="http://sr";function oe(e,t=!1){const n=e.replace(Nl,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Re(e,t,n){if(Ll.test(t))return;const l=oe(e),r=n&&oe(n);let s="";return!r||t.startsWith("/")?s=l:r.toLowerCase().indexOf(l.toLowerCase())!==0?s=l+r:s=r,(s||"/")+oe(t,!s)}function El(e,t){if(e==null)throw new Error(t);return e}function Pl(e,t){return oe(e).replace(/\/*(\*.*)?$/g,"")+oe(t)}function _n(e){const t={};return e.searchParams.forEach((n,l)=>{t[l]=n}),t}function Ol(e,t,n){const[l,r]=e.split("/*",2),s=l.split("/").filter(Boolean),c=s.length;return a=>{const i=a.split("/").filter(Boolean),o=i.length-c;if(o<0||o>0&&r===void 0&&!t)return null;const h={path:c?"":"/",params:{}},f=g=>n===void 0?void 0:n[g];for(let g=0;g<c;g++){const p=s[g],$=i[g],v=p[0]===":",b=v?p.slice(1):p;if(v&&ht($,f(b)))h.params[b]=$;else if(v||!ht($,p))return null;h.path+=`/${$}`}if(r){const g=o?i.slice(-o).join("/"):"";if(ht(g,f(r)))h.params[r]=g;else return null}return h}}function ht(e,t){const n=l=>l.localeCompare(e,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Dl(e){const[t,n]=e.pattern.split("/*",2),l=t.split("/").filter(Boolean);return l.reduce((r,s)=>r+(s.startsWith(":")?2:3),l.length-(n===void 0?0:1))}function Cn(e){const t=new Map,n=Pt();return new Proxy({},{get(l,r){return t.has(r)||Ot(n,()=>t.set(r,E(()=>e()[r]))),t.get(r)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function kn(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),l=e.slice(t.index+t[0].length);const r=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(l);)r.push(n+=t[1]),l=l.slice(t[0].length);return kn(l).reduce((s,c)=>[...s,...r.map(a=>a+c)],[])}const jl=100,Sn=vn(),Tt=vn(),Oe=()=>El(Dt(Sn),"<A> and 'use' router primitives can be only used inside a Route."),Bl=()=>Dt(Tt)||Oe().base,Tl=e=>{const t=Bl();return E(()=>t.resolvePath(e()))},Il=e=>{const t=Oe();return E(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},De=()=>Oe().navigatorFactory(),Rl=()=>Oe().location,G=()=>Oe().params;function Fl(e,t=""){const{component:n,preload:l,load:r,children:s,info:c}=e,a=!s||Array.isArray(s)&&!s.length,i={key:e,component:n,preload:l||r,info:c};return An(e.path).reduce((o,h)=>{for(const f of kn(h)){const g=Pl(t,f);let p=a?g:g.split("/*",1)[0];p=p.split("/").map($=>$.startsWith(":")||$.startsWith("*")?$:encodeURIComponent($)).join("/"),o.push({...i,originalPath:h,pattern:p,matcher:Ol(p,!a,e.matchFilters)})}return o},[])}function Ml(e,t=0){return{routes:e,score:Dl(e[e.length-1])*1e4-t,matcher(n){const l=[];for(let r=e.length-1;r>=0;r--){const s=e[r],c=s.matcher(n);if(!c)return null;l.unshift({...c,route:s})}return l}}}function An(e){return Array.isArray(e)?e:[e]}function Ln(e,t="",n=[],l=[]){const r=An(e);for(let s=0,c=r.length;s<c;s++){const a=r[s];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const i=Fl(a,t);for(const o of i){n.push(o);const h=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!h)Ln(a.children,o.pattern,n,l);else{const f=Ml([...n],l.length);l.push(f)}n.pop()}}}return n.length?l:l.sort((s,c)=>c.score-s.score)}function mt(e,t){for(let n=0,l=e.length;n<l;n++){const r=e[n].matcher(t);if(r)return r}return[]}function Vl(e,t){const n=new URL(wn),l=E(i=>{const o=e();try{return new URL(o,n)}catch{return console.error(`Invalid path ${o}`),i}},n,{equals:(i,o)=>i.href===o.href}),r=E(()=>l().pathname),s=E(()=>l().search,!0),c=E(()=>l().hash),a=()=>"";return{get pathname(){return r()},get search(){return s()},get hash(){return c()},get state(){return t()},get key(){return a()},query:Cn(Et(s,()=>_n(l())))}}let ce;function ql(){return ce}function Hl(e,t,n,l={}){const{signal:[r,s],utils:c={}}=e,a=c.parsePath||(O=>O),i=c.renderPath||(O=>O),o=c.beforeLeave||yn(),h=Re("",l.base||"");if(h===void 0)throw new Error(`${h} is not a valid base path`);h&&!r().value&&s({value:h,replace:!0,scroll:!1});const[f,g]=_(!1);let p;const $=(O,B)=>{B.value===v()&&B.state===x()||(p===void 0&&g(!0),ce=O,p=B,Kn(()=>{p===B&&(b(p.value),y(p.state),ll(),k[1]([]))}).finally(()=>{p===B&&Hn(()=>{ce=void 0,O==="navigate"&&xe(p),g(!1),p=void 0})}))},[v,b]=_(r().value),[x,y]=_(r().state),P=Vl(v,x),L=[],k=_([]),T=E(()=>typeof l.transformUrl=="function"?mt(t(),l.transformUrl(P.pathname)):mt(t(),P.pathname)),M=Cn(()=>{const O=T(),B={};for(let H=0;H<O.length;H++)Object.assign(B,O[H].params);return B}),V={pattern:h,path:()=>h,outlet:()=>null,resolvePath(O){return Re(h,O)}};return C(Et(r,O=>$("native",O),{defer:!0})),{base:V,location:P,params:M,isRouting:f,renderPath:i,parsePath:a,navigatorFactory:be,matches:T,beforeLeave:o,preloadRoute:ie,singleFlight:l.singleFlight===void 0?!0:l.singleFlight,submissions:k};function X(O,B,H){F(()=>{if(typeof B=="number"){B&&(c.go?c.go(B):console.warn("Router integration does not support relative routing"));return}const{replace:ot,resolve:ut,scroll:de,state:Be}={replace:!1,resolve:!0,scroll:!0,...H},ae=ut?O.resolvePath(B):Re("",B);if(ae===void 0)throw new Error(`Path '${B}' is not a routable path`);if(L.length>=jl)throw new Error("Too many redirects");const Wt=v();(ae!==Wt||Be!==x())&&(yl||o.confirm(ae,H)&&(L.push({value:Wt,replace:ot,scroll:de,state:x()}),$("navigate",{value:ae,state:Be})))})}function be(O){return O=O||Dt(Tt)||V,(B,H)=>X(O,B,H)}function xe(O){const B=L[0];B&&(s({...O,replace:B.replace,scroll:B.scroll}),L.length=0)}function ie(O,B={}){const H=mt(t(),O.pathname),ot=ce;ce="preload";for(let ut in H){const{route:de,params:Be}=H[ut];de.component&&de.component.preload&&de.component.preload();const{preload:ae}=de;B.preloadData&&ae&&Ot(n(),()=>ae({params:Be,location:{pathname:O.pathname,search:O.search,hash:O.hash,query:_n(O),state:null,key:""},intent:"preload"}))}ce=ot}}function Ul(e,t,n,l){const{base:r,location:s,params:c}=e,{pattern:a,component:i,preload:o}=l().route,h=E(()=>l().path);i&&i.preload&&i.preload();const f=o?o({params:c,location:s,intent:ce||"initial"}):void 0;return{parent:t,pattern:a,path:h,outlet:()=>i?d(i,{params:c,location:s,data:f,get children(){return n()}}):n(),resolvePath(p){return Re(r.path(),p,h())}}}const Kl=e=>t=>{const{base:n}=t,l=jt(()=>t.children),r=E(()=>Ln(l(),t.base||""));let s;const c=Hl(e,r,()=>s,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(c),d(Sn.Provider,{value:c,get children(){return d(Zl,{routerState:c,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[E(()=>(s=Pt())&&null),d(zl,{routerState:c,get branches(){return r()}})]}})}})};function Zl(e){const t=e.routerState.location,n=e.routerState.params,l=E(()=>e.preload&&F(()=>{e.preload({params:n,location:t,intent:ql()||"initial"})}));return d(w,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:r=>d(r,{params:n,location:t,get data(){return l()},get children(){return e.children}})})}function zl(e){const t=[];let n;const l=E(Et(e.routerState.matches,(r,s,c)=>{let a=s&&r.length===s.length;const i=[];for(let o=0,h=r.length;o<h;o++){const f=s&&s[o],g=r[o];c&&f&&g.route.key===f.route.key?i[o]=c[o]:(a=!1,t[o]&&t[o](),ee(p=>{t[o]=p,i[o]=Ul(e.routerState,i[o-1]||e.routerState.base,tn(()=>l()[o+1]),()=>e.routerState.matches()[o])}))}return t.splice(r.length).forEach(o=>o()),c&&a?c:(n=i[0],i)}));return tn(()=>l()&&n)()}const tn=e=>()=>d(w,{get when(){return e()},keyed:!0,children:t=>d(Tt.Provider,{value:t,get children(){return t.outlet()}})}),U=e=>{const t=jt(()=>e.children);return Ct(e,{get children(){return t()}})};function Wl([e,t],n,l){return[e,l?r=>t(l(r)):t]}function Gl(e){if(e==="#")return null;try{return document.querySelector(e)}catch{return null}}function Yl(e){let t=!1;const n=r=>typeof r=="string"?{value:r}:r,l=Wl(_(n(e.get()),{equals:(r,s)=>r.value===s.value&&r.state===s.state}),void 0,r=>(!t&&e.set(r),r));return e.init&&te(e.init((r=e.get())=>{t=!0,l[1](n(r)),t=!1})),Kl({signal:l,create:e.create,utils:e.utils})}function Xl(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Jl(e,t){const n=Gl(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const Ql=new Map;function er(e=!0,t=!1,n="/_server",l){return r=>{const s=r.base.path(),c=r.navigatorFactory(r.base);let a={};function i(v){return v.namespaceURI==="http://www.w3.org/2000/svg"}function o(v){if(v.defaultPrevented||v.button!==0||v.metaKey||v.altKey||v.ctrlKey||v.shiftKey)return;const b=v.composedPath().find(T=>T instanceof Node&&T.nodeName.toUpperCase()==="A");if(!b||t&&!b.hasAttribute("link"))return;const x=i(b),y=x?b.href.baseVal:b.href;if((x?b.target.baseVal:b.target)||!y&&!b.hasAttribute("state"))return;const L=(b.getAttribute("rel")||"").split(/\s+/);if(b.hasAttribute("download")||L&&L.includes("external"))return;const k=x?new URL(y,document.baseURI):new URL(y);if(!(k.origin!==window.location.origin||s&&k.pathname&&!k.pathname.toLowerCase().startsWith(s.toLowerCase())))return[b,k]}function h(v){const b=o(v);if(!b)return;const[x,y]=b,P=r.parsePath(y.pathname+y.search+y.hash),L=x.getAttribute("state");v.preventDefault(),c(P,{resolve:!1,replace:x.hasAttribute("replace"),scroll:!x.hasAttribute("noscroll"),state:L&&JSON.parse(L)})}function f(v){const b=o(v);if(!b)return;const[x,y]=b;a[y.pathname]||r.preloadRoute(y,{preloadData:x.getAttribute("preload")!=="false"})}function g(v){const b=o(v);if(!b)return;const[x,y]=b;a[y.pathname]||(a[y.pathname]=setTimeout(()=>{r.preloadRoute(y,{preloadData:x.getAttribute("preload")!=="false"}),delete a[y.pathname]},200))}function p(v){const b=o(v);if(!b)return;const[,x]=b;a[x.pathname]&&(clearTimeout(a[x.pathname]),delete a[x.pathname])}function $(v){if(v.defaultPrevented)return;let b=v.submitter&&v.submitter.hasAttribute("formaction")?v.submitter.getAttribute("formaction"):v.target.getAttribute("action");if(!b)return;if(!b.startsWith("https://action/")){const y=new URL(b,wn);if(b=r.parsePath(y.pathname+y.search),!b.startsWith(n))return}if(v.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const x=Ql.get(b);if(x){v.preventDefault();const y=new FormData(v.target,v.submitter);x.call({r,f:v.target},v.target.enctype==="multipart/form-data"?y:new URLSearchParams(y))}}Q(["click","submit"]),document.addEventListener("click",h),e&&(document.addEventListener("mouseover",g),document.addEventListener("mouseout",p),document.addEventListener("focusin",f),document.addEventListener("touchstart",f)),document.addEventListener("submit",$),te(()=>{document.removeEventListener("click",h),e&&(document.removeEventListener("mouseover",g),document.removeEventListener("mouseout",p),document.removeEventListener("focusin",f),document.removeEventListener("touchstart",f)),document.removeEventListener("submit",$)})}}function tr(e){const t=e.replace(/^.*?#/,"");if(!t.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${t}`}return t}function nr(e){const t=()=>window.location.hash.slice(1),n=yn();return Yl({get:t,set({value:l,replace:r,scroll:s,state:c}){r?window.history.replaceState(Sl(c),"","#"+l):window.history.pushState(c,"","#"+l);const a=l.indexOf("#"),i=a>=0?l.slice(a+1):"";Jl(i,s),Bt()},init:l=>Xl(window,"hashchange",Al(l,r=>!n.confirm(r&&r<0?r:t()))),create:er(e.preload,e.explicitLinks,e.actionBase),utils:{go:l=>window.history.go(l),renderPath:l=>`#${l}`,parsePath:tr,beforeLeave:n}})(e)}var lr=m("<a>");function pe(e){e=Ct({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=el(e,["href","state","class","activeClass","inactiveClass","end"]),n=Tl(()=>e.href),l=Il(n),r=Rl(),s=E(()=>{const c=n();if(c===void 0)return[!1,!1];const a=oe(c.split(/[?#]/,1)[0]).toLowerCase(),i=oe(r.pathname).toLowerCase();return[e.end?a===i:i.startsWith(a+"/")||i===a,a===i]});return(()=>{var c=lr();return $l(c,Ct(t,{get href(){return l()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!s()[0],[e.activeClass]:s()[0],...t.classList}},link:"",get"aria-current"(){return s()[1]?"page":void 0}}),!1),c})()}var rr=m("<img width=32 height=32>"),sr=m('<div class="h-screen relative flex flex-col gap-1 justify-between max-w-7xl mx-auto"><header class="flex-none print:hidden border-b border-slate-500/50"><nav class="m-2 flex-row-vcenter"></nav></header><main class=flex-1 id=main></main><footer class="flex-none print:hidden border-t border-slate-500/50"><div class="flex-row-vcenter px-2 py-1 justify-between"><span class="italic px-2 py-1"> @ </span><a href=mailto:seant-kim@foxmail.com class="text-cyan-300 px-2 py-1 opacity-70 hover:opacity-90"><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"class="size-5 stroke-current stroke-2"><path stroke-linecap=round stroke-linejoin=round d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75">'),ir=m("<div>出错了: ");const ar=e=>(()=>{var t=sr(),n=t.firstChild,l=n.firstChild,r=n.nextSibling,s=r.nextSibling,c=s.firstChild,a=c.firstChild,i=a.firstChild;return u(l,d(pe,{href:"/",inactiveClass:"pointer-events-auto",activeClass:"pointer-events-none",class:"flex-none",end:!0,get children(){var o=rr();return N(o,"src",kl),C(()=>N(o,"alt","Homemo 住哪儿 Logo")),o}})),u(r,d(rl,{fallback:o=>(()=>{var h=ir();return h.firstChild,u(h,()=>o.message,null),h})(),get children(){return e.children}})),u(a,()=>"Homemo 住哪儿",i),u(a,()=>new Date().getFullYear(),null),t})();var cr=m('<p class="px-2 py-1 absolute top-2 left-8">Not Found'),or=m('<div class="m-1 p-1 h-full flex items-center justify-center"><div class="px-3 py-2 mb-4 rounded bg-slate-700/50 flex flex-col items-center"><p class="m-1 p-1 text-lg text-pink-400 flex flexprow gap-2"><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=2 stroke=currentColor class=size-8><path stroke-linecap=round stroke-linejoin=round d="M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"></path></svg><span>Lost, 迷路了 ...</span></p><p class="m-1 p-1 text-lg">网站路径 / <!> 不存在！');const ur=()=>{const e=G();return[cr(),(()=>{var t=or(),n=t.firstChild,l=n.firstChild,r=l.nextSibling,s=r.firstChild,c=s.nextSibling;return c.nextSibling,u(r,()=>e.pathing,c),t})()]},A={min:2,mid:20,max:200},j={min:5,mid:50,max:500},dr={title:"",words:"",check:!1};class Nn{constructor(t){this.entity={title:t.title.trim(),words:t.words.trim(),check:t.check}}}const En=e=>e.title.length>=A.min&&e.title.length<=A.mid&&e.words.length<=A.max,Ze=(e,t)=>e.title===t.title&&e.words===t.words&&e.check===t.check,Pn=["一室无厅","一室一厅","两室一厅","两室两厅","三室一厅","多室多厅"],On=["步梯底层","步梯中层","步梯顶层","电梯底层","电梯中层","电梯顶层"],ze={address:"",descrip:"",layout:0,storey:0,records:[]};class We{constructor(t){this.isValid=()=>{for(let n of this.entity.records)if(!En(n))return!1;return this.entity.address.length>=j.min&&this.entity.address.length<=j.mid&&this.entity.descrip.length<=A.max},this.isEqual=n=>{for(let l of n.records)if(!this.entity.records.find(r=>Ze(r,l)))return!1;for(let l of this.entity.records)if(!n.records.find(r=>Ze(r,l)))return!1;return this.entity.address===n.address&&this.entity.descrip===n.descrip&&this.entity.layout===n.layout&&this.entity.storey===n.storey},this.entity={...t,address:t.address.trim(),descrip:t.descrip.trim(),records:t.records.map(n=>new Nn(n).entity)}}}const fr=e=>e.address!==void 0&&e.descrip!==void 0&&e.storey!==void 0&&e.layout!==void 0&&e.records!==void 0;function ue(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function hr(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const l=ue(n);return(r,s)=>l.then(c=>s(c.transaction(t,r).objectStore(t)))}let gt;function ct(){return gt||(gt=hr("keyval-store","keyval")),gt}function mr(e,t=ct()){return t("readonly",n=>ue(n.get(e)))}function gr(e,t,n=ct()){return n("readwrite",l=>(l.put(t,e),ue(l.transaction)))}function vr(e,t=ct()){return t("readwrite",n=>(n.delete(e),ue(n.transaction)))}function $r(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},ue(e.transaction)}function pr(e=ct()){return e("readonly",t=>{if(t.getAll&&t.getAllKeys)return Promise.all([ue(t.getAllKeys()),ue(t.getAll())]).then(([l,r])=>l.map((s,c)=>[s,r[c]]));const n=[];return e("readonly",l=>$r(l,r=>n.push([r.key,r.value])).then(()=>n))})}const br=async()=>(await pr()).filter(e=>typeof e[0]=="number"&&e[1]&&fr(e[1])).map(e=>({k:e[0],v:e[1]})),re=async e=>await mr(e),z=async(e,t)=>await gr(e,t),xr=async e=>await vr(e);var yr=m('<div class="truncate px-2 py-1 rounded secondary-ground"><span>'),wr=m('<div class="flex flex-col gap-1 min-w-60 max-w-80"><div class="flex-row-vcenter px-2 py-1 rounded secondary-ground"><div class="flex-1 truncate"><span></span></div><div class=flex-none><input type=checkbox class="form-checkbox w-5 h-5 rounded bg-slate-800">');const _r=e=>{const[t,n]=_(e.nd.check);return(()=>{var l=wr(),r=l.firstChild,s=r.firstChild,c=s.firstChild,a=s.nextSibling,i=a.firstChild;return u(c,()=>e.nd.title),i.addEventListener("change",()=>{n(o=>!o),e.cb(t())}),u(l,d(w,{get when(){return t()&&e.nd.words},get children(){var o=yr(),h=o.firstChild;return u(h,()=>e.nd.words),o}}),null),C(()=>i.checked=t()),l})()};var Cr=m('<div class="p-1 text-cyan-300 opacity-70 hover:opacity-90 flex flex-row items-center"><span class="text-nowrap hover:underline underline-offset-8"></span><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="size-5 fill-none stroke-2 stroke-current"><path stroke-linecap=round stroke-linejoin=round d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z">'),kr=m('<div class="p-1 text-cyan-300 opacity-70 hover:opacity-90 flex flex-row items-center"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="size-5 fill-none stroke-2 stroke-current"><path stroke-linecap=round stroke-linejoin=round d="M12 4.5v15m7.5-7.5h-15"></path></svg><span class="text-nowrap hover:underline underline-offset-8">'),Sr=m('<div class="p-1 text-cyan-300 opacity-70 hover:opacity-90 flex flex-row items-center"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="size-5 fill-none stroke-2 stroke-current"><path stroke-linecap=round stroke-linejoin=round d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg><span class="text-nowrap hover:underline underline-offset-8">'),Ar=m('<div class="p-1 text-cyan-300 opacity-70 hover:opacity-90 flex flex-row items-center"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="size-5 fill-none stroke-2 stroke-current"><path stroke-linecap=round stroke-linejoin=round d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg><span class="text-nowrap hover:underline underline-offset-8">');const Ge=e=>d(pe,{get href(){return e.href},inactiveClass:"pointer-events-auto",activeClass:"pointer-events-none",end:!0,get class(){return e.class},get children(){var t=Cr(),n=t.firstChild;return n.nextSibling,u(n,()=>e.label),t}}),Lr=e=>d(pe,{get href(){return e.href},inactiveClass:"pointer-events-auto",activeClass:"pointer-events-none",end:!0,get class(){return e.class},get children(){var t=kr(),n=t.firstChild,l=n.nextSibling;return u(l,()=>e.label),t}}),It=e=>d(pe,{get href(){return e.href},inactiveClass:"pointer-events-auto",activeClass:"pointer-events-none",end:!0,get class(){return e.class},get children(){var t=Sr(),n=t.firstChild,l=n.nextSibling;return u(l,()=>e.label),t}}),Nr=e=>d(pe,{get href(){return e.href},inactiveClass:"pointer-events-auto",activeClass:"pointer-events-none",end:!0,get class(){return e.class},get children(){var t=Ar(),n=t.firstChild,l=n.nextSibling;return u(l,()=>e.label),t}});var Er=m('<div class=flex-row-vcenter><span class="small-italic-tag m-1">地址:</span><p class="px-2 py-1">'),Pr=m('<div class=flex-row-vcenter><span class="small-italic-tag m-1">描述:</span><p class="px-2 py-1">'),Or=m('<div class=flex-row-vcenter><span class="small-italic-tag m-1">备注:</span><div class="flex flex-row gap-1 flex-wrap">'),Dr=m('<div class="m-1 p-1"><div class=flex-row-vcenter><span class="small-italic-tag m-1">户型:</span><p class="px-2 py-1"></p></div><div class=flex-row-vcenter><span class="small-italic-tag m-1">楼层:</span><p class="px-2 py-1"></p></div><div class=flex-row-vcenter><span class="small-italic-tag m-1">协议:'),jr=m("<div class=m-1>");const Br=e=>{const t=()=>e.kv.v.address,n=()=>e.kv.v.descrip,l=()=>e.kv.v.layout,r=()=>e.kv.v.storey,s=()=>e.kv.v.records;return(()=>{var c=Dr(),a=c.firstChild,i=a.firstChild,o=i.nextSibling,h=a.nextSibling,f=h.firstChild,g=f.nextSibling,p=h.nextSibling;return p.firstChild,u(c,d(w,{get when(){return t()},get children(){var $=Er(),v=$.firstChild,b=v.nextSibling;return u(b,t),$}}),a),u(c,d(w,{get when(){return n()},get children(){var $=Pr(),v=$.firstChild,b=v.nextSibling;return u(b,n),$}}),a),u(o,()=>Pn.find(($,v)=>v===l())),u(g,()=>On.find(($,v)=>v===r())),u(p,d(Ge,{label:"租赁",get href(){return`/${e.kv.k}/lvw`},class:"px-1"}),null),u(p,d(Ge,{label:"买卖",get href(){return`/${e.kv.k}/bvw`},class:"px-1"}),null),u(c,d(w,{get when(){return E(()=>!!s())()&&s().length>0},get children(){var $=Or(),v=$.firstChild,b=v.nextSibling;return u(b,d(q,{get each(){return s()},children:x=>(()=>{var y=jr();return u(y,d(_r,{nd:x,cb:P=>{e.cb(s().map(L=>L.title!==x.title||L.words!==x.words?L:{...L,check:P}))}})),y})()})),$}}),null),c})()};var Tr=m('<input type=text required class="form-input w-full px-2 py-1 placeholder:italic edit-with-border secondary-ground invalid:edit-border-warn">'),Ir=m('<input type=text class="form-input w-full px-2 py-1 placeholder:italic edit-with-border secondary-ground invalid:edit-border-warn">'),Rr=m('<div class="flex flex-col"><span class=small-italic-tag></span><textarea rows=3 class="form-textarea w-full px-2 py-1 placeholder:italic edit-with-border secondary-ground">');const Ne=e=>{const t=e.min>=A.min?`${e.min} - ${e.max} 个字符`:`最多${e.max}个字符`;return d(w,{get when(){return e.min>=A.min},get fallback(){return(()=>{var n=Ir();return n.$$input=l=>e.cb(l.currentTarget.value),N(n,"placeholder",t),C(()=>N(n,"maxlength",e.max)),C(()=>n.value=e.val),n})()},get children(){var n=Tr();return n.$$input=l=>e.cb(l.currentTarget.value),N(n,"placeholder",t),C(()=>N(n,"pattern",`^\\s*\\S.{${e.min-2},${e.max-2}}\\S\\s*$`)),C(()=>n.value=e.val),n}})},Dn=e=>{const t=`最多${e.max}个字符`;return(()=>{var n=Rr(),l=n.firstChild,r=l.nextSibling;return u(l,()=>e.tl),r.$$input=s=>e.cb(s.currentTarget.value),N(r,"placeholder",t),C(()=>N(r,"maxlength",e.max)),C(()=>r.value=e.val),n})()};Q(["input"]);var Fr=m('<button type=button class="px-2 py-1 text-cyan-300 opacity-70 hover:opacity-90 flex flex-row items-center"><span class="text-nowrap pe-1"></span><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="size-5 fill-none stroke-2 stroke-current"><path stroke-linecap=round stroke-linejoin=round d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z">'),Mr=m('<button type=button class="px-2 py-1 text-cyan-300 opacity-70 hover:opacity-90 flex flex-row items-center"><span class=text-nowrap></span><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="size-5 fill-none stroke-2 stroke-current"><path stroke-linecap=round stroke-linejoin=round d="m4.5 12.75 6 6 9-13.5">'),Vr=m('<button type=button class="px-2 py-1 text-cyan-300 opacity-70 hover:opacity-90 flex flex-row items-center"><span class=text-nowrap></span><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="size-5 fill-none stroke-2 stroke-current"><path stroke-linecap=round stroke-linejoin=round d="M6 18 18 6M6 6l12 12">'),qr=m('<button type=button class="px-2 py-1 text-cyan-300 opacity-70 hover:opacity-90 flex flex-row items-center"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="size-5 fill-none stroke-2 stroke-current"><path stroke-linecap=round stroke-linejoin=round d="M12 4.5v15m7.5-7.5h-15"></path></svg><span class=text-nowrap>'),Hr=m('<button type=button class="px-2 py-1 text-cyan-300 opacity-70 hover:opacity-90 flex flex-row items-center"><span class=text-nowrap></span><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="size-5 fill-none stroke-2 stroke-current"><path stroke-linecap=round stroke-linejoin=round d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10">'),Ur=m('<button type=button class="px-2 py-1 text-cyan-300 opacity-70 hover:opacity-90 flex flex-row items-center"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="size-5 fill-none stroke-2 stroke-current"><path stroke-linecap=round stroke-linejoin=round d="M15.75 19.5 8.25 12l7.5-7.5"></path></svg><span class=text-nowrap>'),Kr=m('<button type=button class="px-2 py-1 text-cyan-300 opacity-70 hover:opacity-90 flex flex-row items-center"><span class=text-nowrap></span><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="size-5 fill-none stroke-2 stroke-current"><path stroke-linecap=round stroke-linejoin=round d="m8.25 4.5 7.5 7.5-7.5 7.5">'),Zr=m('<button type=button class="px-2 py-1 text-cyan-300 opacity-70 hover:opacity-90 flex flex-row items-center"><span class=text-nowrap></span><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="size-5 fill-none stroke-2 stroke-current"><path stroke-linecap=round stroke-linejoin=round d="M12 12a8.912 8.912 0 0 1-.318-.079c-1.585-.424-2.904-1.247-3.76-2.236-.873-1.009-1.265-2.19-.968-3.301.59-2.2 3.663-3.29 6.863-2.432A8.186 8.186 0 0 1 16.5 5.21M6.42 17.81c.857.99 2.176 1.812 3.761 2.237 3.2.858 6.274-.23 6.863-2.431.233-.868.044-1.779-.465-2.617M3.75 12h16.5">');const zr=e=>(()=>{var t=Fr(),n=t.firstChild;return n.nextSibling,t.$$click=()=>e.onClick(),u(n,()=>e.label),t})(),Y=e=>(()=>{var t=Mr(),n=t.firstChild;return n.nextSibling,t.$$click=()=>e.onClick(),u(n,()=>e.label),t})(),se=e=>(()=>{var t=Vr(),n=t.firstChild;return n.nextSibling,t.$$click=()=>e.onClick(),u(n,()=>e.label),t})(),Wr=e=>(()=>{var t=qr(),n=t.firstChild,l=n.nextSibling;return t.$$click=()=>e.onClick(),u(l,()=>e.label),t})(),jn=e=>(()=>{var t=Hr(),n=t.firstChild;return n.nextSibling,t.$$click=()=>e.onClick(),u(n,()=>e.label),t})(),Gr=e=>(()=>{var t=Ur(),n=t.firstChild,l=n.nextSibling;return t.$$click=()=>e.onClick(),u(l,()=>e.label),t})(),Yr=e=>(()=>{var t=Kr(),n=t.firstChild;return n.nextSibling,t.$$click=()=>e.onClick(),u(n,()=>e.label),t})(),Bn=e=>(()=>{var t=Zr(),n=t.firstChild;return n.nextSibling,t.$$click=()=>e.onClick(),u(n,()=>e.label),t})();Q(["click"]);var Xr=m('<input type=text required class="form-input w-full px-2 py-1 placeholder:italic edit-with-border bg-slate-800 hover:bg-slate-900 invalid:edit-border-warn">'),Jr=m('<input type=text class="form-input w-full px-2 py-1 placeholder:italic edit-with-border bg-slate-800 hover:bg-slate-900 invalid:edit-border-warn">'),Qr=m('<div class=m-1><div class="m-1 flex-row-vcenter"><div class=flex-1></div><nav class="flex-none bg-slate-800 hover:bg-slate-900"></nav></div><div class="m-1 flex flex-col"><span class=small-italic-tag>说明');const nn=e=>{const t=e.mn>=A.min?`${e.mn} - ${e.mx} 个字符`:`最多${e.mx}个字符`;return d(w,{get when(){return e.mn>=A.min},get fallback(){return(()=>{var n=Jr();return n.$$input=l=>e.cb(l.currentTarget.value),N(n,"placeholder",t),C(()=>N(n,"maxlength",e.mx)),C(()=>n.value=e.tx),n})()},get children(){var n=Xr();return n.$$input=l=>e.cb(l.currentTarget.value),N(n,"placeholder",t),C(()=>N(n,"pattern",`^\\s*\\S.{${e.mn-2},${e.mx-2}}\\S\\s*$`)),C(()=>n.value=e.tx),n}})},es=e=>{const[t,n]=_(e.nd.title),[l,r]=_(e.nd.words),s=()=>{const i=new Nn({title:t(),words:l(),check:!1});return En(i.entity)&&!Ze(i.entity,e.nd)},c=()=>e.cb({title:t(),words:l(),check:!1}),a=()=>e.cb();return(()=>{var i=Qr(),o=i.firstChild,h=o.firstChild,f=h.nextSibling,g=o.nextSibling;return g.firstChild,u(h,d(nn,{get tx(){return t()},cb:p=>n(p),get mn(){return A.min},get mx(){return A.mid}})),u(f,d(w,{get when(){return s()},get fallback(){return d(se,{label:"取消",onClick:a})},get children(){return d(Y,{label:"确认",onClick:c})}})),u(g,d(nn,{get tx(){return l()},cb:p=>r(p),mn:0,get mx(){return j.mid}}),null),i})()};Q(["input"]);var ts=m('<div class="flex flex-col gap-1"><div class="flex-row-vcenter justify-between"><div class=flex-row-vcenter><div class=p-1><input type=checkbox class="form-checkbox w-5 h-5 rounded bg-slate-800">');const ns=e=>(()=>{var t=ts(),n=t.firstChild,l=n.firstChild,r=l.firstChild,s=r.firstChild;return u(n,d(Ne,{get val(){return e.val.title},cb:c=>e.cb({...e.val,title:c}),get min(){return A.min},get max(){return A.mid}}),l),u(l,d(w,{get when(){return e.val.check},get children(){return d(se,{label:"",onClick:()=>e.cb()})}}),r),s.addEventListener("change",()=>e.cb({...e.val,check:!e.val.check})),u(t,d(Ne,{get val(){return e.val.words},cb:c=>e.cb({...e.val,words:c}),min:0,get max(){return A.max}}),null),C(()=>s.checked=e.val.check),t})();var ls=m('<div class="flex-row-vcenter flex-wrap">'),rs=m('<label class="px-2 py-1 rounded secondary-ground flex-row-vcenter"><input type=radio class="form-radio w-5 h-5 bg-slate-800"><span class="text-nowrap opacity-70 hover:opacity-90">');const ln=e=>(()=>{var t=ls();return u(t,()=>e.ts.map((n,l)=>(()=>{var r=rs(),s=r.firstChild,c=s.nextSibling;return s.addEventListener("change",()=>e.cb(l)),s.value=l,u(c,n),C(()=>s.checked=e.vn===l),r})())),t})();var ss=m('<div class="absolute top-0 bottom-0 start-0 end-0 backdrop-blur backdrop-opacity-50 z-20 flex items-center justify-center"><div class="m-2 p-2 w-fit rounded-border-1 bg-slate-700">');const Tn=e=>{let t;const n=l=>{t&&t.contains(l.target)||(e.trigger&&e.trigger.contains(l.target)?e.toggle(!0):e.toggle(!1))};return W(()=>{window.addEventListener("click",n)}),te(()=>{window.removeEventListener("click",n)}),d(w,{get when(){return e.shown},get children(){return d(Cl,{get mount(){return document.getElementById("main")},get children(){var l=ss(),r=l.firstChild,s=t;return typeof s=="function"?at(s,r):t=r,u(r,()=>e.children),l}})}})};var is=m('<p class="m-1 p-1">预设备注'),as=m('<div class="w-full p-1"><div class="m-1 grid gap-1 grid-cols-1 md:grid-cols-2"><div class="flex flex-col"><span class=small-italic-tag>地址</span></div><div class="flex flex-col"><span class=small-italic-tag>概况</span></div><div><p class=small-italic-tag>户型</p></div><div><p class=small-italic-tag>楼层</p></div></div><div class="m-1 flex-row-vcenter"><p class=small-italic-tag>备注</p><div class="secondary-ground rounded-border-1"></div></div><div class="grid gap-1 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">'),cs=m("<div class=m-1>");const In=e=>{const t=()=>e.val.address,n=()=>e.val.descrip,l=()=>e.val.layout,r=()=>e.val.storey,[s,c]=_(e.val.records.map(h=>_(h)));let a;const[i,o]=_(!1);return(()=>{var h=as(),f=h.firstChild,g=f.firstChild;g.firstChild;var p=g.nextSibling;p.firstChild;var $=p.nextSibling;$.firstChild;var v=$.nextSibling;v.firstChild;var b=f.nextSibling,x=b.firstChild,y=x.nextSibling,P=b.nextSibling;u(g,d(Ne,{get val(){return t()},get min(){return j.min},get max(){return j.mid},cb:k=>e.cb({...e.val,address:k})}),null),u(p,d(Ne,{get val(){return n()},min:0,get max(){return A.max},cb:k=>e.cb({...e.val,descrip:k})}),null),u($,d(ln,{get vn(){return l()},ts:Pn,cb:k=>e.cb({...e.val,layout:k})}),null),u(v,d(ln,{get vn(){return r()},ts:On,cb:k=>e.cb({...e.val,storey:k})}),null);var L=a;return typeof L=="function"?at(L,y):a=y,u(y,d(Wr,{label:"备注",onClick:()=>o(!0)})),u(P,d(q,{get each(){return s()},children:k=>(()=>{var T=cs();return u(T,d(ns,{get val(){return k[0]()},cb:M=>{M?(k[1](M),e.cb({...e.val,records:s().map(V=>V[0]())})):(c(V=>V.filter(X=>!Ze(X[0](),k[0]()))),e.cb({...e.val,records:s().map(V=>V[0]())}))}})),T})()})),u(h,d(Tn,{get shown(){return i()},toggle:k=>o(k),trigger:a,get children(){return[is(),d(es,{nd:dr,cb:k=>{k&&(c(T=>[...T,_(k)]),e.cb({...e.val,records:[...e.val.records,k]})),o(!1)}})]}}),null),h})()};var os=m("<div class=p-1>"),us=m('<span class="px-2 py-1 inline-block hover:text-lg w-full truncate">'),ds=m('<div class="m-2 hover:bg-slate-800">');const rn=e=>(()=>{var t=os();return u(t,d(q,{get each(){return e.kvs},children:n=>(()=>{var l=ds();return u(l,d(pe,{get href(){return`/${n.k}`},inactiveClass:"pointer-events-auto",activeClass:"pointer-events-none text-lg",end:!0,get children(){var r=us();return u(r,()=>n.v.address),r}})),l})()})),t})();var fs=m('<p class="px-2 py-1 absolute top-2 left-8">房屋信息'),hs=m('<div class="grid gap-1 grid-cols-8"><div class="hidden md:block md:col-span-4 lg:col-span-3"></div><div class="col-span-8 md:col-span-4 lg:col-span-5">'),ms=m('<nav class="absolute top-2 right-2 flex-row-vcenter">'),gs=m("<div class=m-1>"),vs=m('<div class=m-2><div class=m-1></div><nav class="absolute top-2 right-2 flex-row-vcenter">');const $s=()=>{const e=G(),t=De(),[n,l]=_(ze),r=()=>{const o=new We(n());return o.isValid()&&!o.isEqual(ze)},[s,c]=_(),a=()=>{var o;return(o=s())==null?void 0:o.find(h=>h.k===Number.parseInt(e.fid))},i=()=>{const o=new We(n()),h=Date.now();z(h,o.entity).then(()=>{c(f=>[...f,{k:h,v:o.entity}]),t(`/${h}`)}).catch(f=>console.error("create flat failed",f))};return W(()=>{br().then(o=>c(o)).catch(o=>console.error("get addresses failed",o))}),[fs(),d(w,{get when(){return e.fid},keyed:!0,get fallback(){return d(w,{get when(){return E(()=>!!s())()&&s().length>0},get fallback(){return(()=>{var o=vs(),h=o.firstChild,f=h.nextSibling;return u(h,d(In,{get val(){return n()},cb:l})),u(f,d(w,{get when(){return r()},get children(){return d(Y,{label:"保存",onClick:i})}})),o})()},get children(){var o=gs();return u(o,d(rn,{get kvs(){return s()}})),o}})},get children(){var o=hs(),h=o.firstChild,f=h.nextSibling;return u(h,d(w,{get when(){return s()},get children(){return d(rn,{get kvs(){return s()}})}})),u(f,d(w,{get when(){return a()},get children(){return d(Br,{get kv(){return a()},cb:g=>{z(a().k,{...a().v,records:g}).then(()=>{}).catch(p=>console.error("set flat failed",p))}})}})),o}}),(()=>{var o=ms();return u(o,d(w,{get when(){return E(()=>!!s())()&&s().length>0},get children(){return d(Lr,{label:"房屋",href:"/ed"})}}),null),u(o,d(w,{get when(){return e.fid},get children(){return[d(It,{label:"修改",get href(){return`/ed/${e.fid}`}}),d(Nr,{label:"删除",get href(){return`/${e.fid}/dele`}})]}}),null),o})()]};var ps=m('<p class="px-2 py-1 absolute top-2 left-8">编辑房屋信息'),bs=m('<nav class="absolute top-2 right-2 flex-row-vcenter">'),xs=m('<div class="m-1 p-1">'),ys=m("<div>Loading ...");const ws=()=>{const e=G(),t=De(),[n,l]=_(),[r,s]=_(),c=()=>{const i=new We(r());return i.isValid()&&!i.isEqual(n())};W(()=>{if(e.fid){const i=Number.parseInt(e.fid);re(i).then(o=>{l(o),s(o)}).catch(o=>console.error("get flat failed",o))}else l(ze),s(ze)});const a=i=>{if(i){const o=new We(r()),h=e.fid?Number.parseInt(e.fid):Date.now();z(h,o.entity).then(()=>{t(`/${h}`,{replace:!0})}).catch(f=>console.error("upsert flat failed",f))}else t(`/${e.fid||""}`,{replace:!0})};return[ps(),d(w,{get when(){return r()},get fallback(){return ys()},get children(){return[(()=>{var i=bs();return u(i,d(w,{get when(){return c()},get fallback(){return d(se,{label:"取消",onClick:()=>a(!1)})},get children(){return d(Y,{label:"保存",onClick:()=>a(!0)})}})),i})(),(()=>{var i=xs();return u(i,d(In,{get val(){return r()},cb:s})),i})()]}})]};var _s=m('<p class="px-2 py-1 absolute top-2 left-8">删除数据'),Cs=m('<div class="m-2 p-2 flex flex-col gap-1 max-w-3xl mx-auto text-red-300"><p class="p-2 text-nowrap text-lg">删除房屋信息</p><p class="px-2 py-1"></p><div class="m-2 flex-row-vcenter justify-center"><nav class="bg-slate-800 hover:bg-slate-700"></nav><nav class="bg-slate-800 hover:bg-slate-700">'),ks=m("<div>Loading ...");const Ss=()=>{const e=G(),t=De(),[n,l]=_();W(()=>{if(e.fid){const s=Number.parseInt(e.fid);re(s).then(c=>l(c)).catch(c=>console.error("get flat failed",c))}});const r=s=>{s?xr(Number.parseInt(e.fid)).then(()=>t("/",{replace:!0})).catch(c=>console.error("delete flat failed",c)):t(`/${e.fid}`,{replace:!0})};return[_s(),d(w,{get when(){return n()},get fallback(){return ks()},get children(){var s=Cs(),c=s.firstChild,a=c.nextSibling,i=a.nextSibling,o=i.firstChild,h=o.nextSibling;return u(a,()=>`删除《${n().address}》的房屋信息将删除所有与其相关的协议数据！`),u(o,d(se,{label:"取消",onClick:()=>r(!1)})),u(h,d(Y,{label:"确认",onClick:()=>r(!0)})),s}})]},me=100,At=1e3,Ye=1e4,sn={numeral:j.min*me,sinoNum:"伍佰元整"},an={numeral:j.min*At,sinoNum:"伍仟元整"},As={numeral:j.min*Ye,sinoNum:"伍万元整"};class _e{constructor(t){this.entity={numeral:t.numeral,sinoNum:t.sinoNum.trim()}}}const Ce=e=>e.numeral>=j.min*me&&e.numeral<=j.max*Ye&&e.sinoNum.length>=A.min&&e.sinoNum.length<=A.mid,ke=(e,t)=>e.numeral===t.numeral&&e.sinoNum===t.sinoNum,Xe={pName:"",phone:"",idNum:""},Rt=11,Ft=18;class Je{constructor(t){this.entity={pName:t.pName.trim(),phone:t.phone.trim(),idNum:t.idNum.trim()}}}const Qe=e=>e.pName.length>=A.min&&e.pName.length<=A.mid&&e.phone.length===Rt&&e.idNum.length===Ft,et=(e,t)=>e.pName===t.pName&&e.phone===t.phone&&e.idNum===t.idNum,Mt=e=>({y:e.getFullYear(),m:e.getMonth(),d:e.getDate()}),Ls=e=>new Date(e.y,e.m,e.d),Rn=(e,t)=>e.y===t.y&&e.m===t.m&&e.d===t.d,je=e=>`${e.y}年${(e.m+1).toString().padStart(2,"0")}月${e.d.toString().padStart(2,"0")}日`,Vt=["空调","冰箱","洗衣机","电视机","燃气灶","热水器"],qt=["水电","燃气","取暖费","物业费","宽带费","车位费"],Fn=["装修","转租"],Ht=["家具","沐浴"],Lt={lessor:Xe,lessee:Xe,fromDay:Mt(new Date),tenancy:A.min,payCyc:A.min,allows:0,facilis:0,monthly:sn,deposit:sn,applias:0,feeBits:0,extrall:""};class ve{constructor(t){this.isValid=()=>this.entity.extrall.length<=j.max&&Qe(this.entity.lessor)&&Qe(this.entity.lessee)&&Ce(this.entity.monthly)&&Ce(this.entity.deposit)&&this.entity.tenancy>=A.min&&this.entity.tenancy<=A.max&&this.entity.payCyc>=A.min&&this.entity.payCyc<=A.max&&this.entity.tenancy>=this.entity.payCyc&&this.entity.applias>=0&&this.entity.feeBits>=0,this.isEqual=n=>Rn(this.entity.fromDay,n.fromDay)&&et(this.entity.lessor,n.lessor)&&et(this.entity.lessee,n.lessee)&&this.entity.allows===n.allows&&this.entity.facilis===n.facilis&&ke(this.entity.monthly,n.monthly)&&ke(this.entity.deposit,n.deposit)&&this.entity.tenancy===n.tenancy&&this.entity.payCyc===n.payCyc&&this.entity.applias===n.applias&&this.entity.feeBits===n.feeBits&&this.entity.extrall===n.extrall,this.entity={...t,lessor:new Je(t.lessor).entity,lessee:new Je(t.lessee).entity,monthly:new _e(t.monthly).entity,deposit:new _e(t.deposit).entity,extrall:t.extrall.trim()}}}var Ns=m('<div><div class="col-span-2 text-nowrap flex-row-vcenter"><span class="small-italic-tag print:hidden">姓名:</span><span></span></div><div class="col-span-3 text-nowrap flex-row-vcenter"><span class=small-italic-tag>手机:</span><span></span></div><div class="col-span-5 text-nowrap flex-row-vcenter"><span class=small-italic-tag>身份证:</span><span>');const tt=e=>{const t="grid gap-1 grid-cols-5 sm:grid-cols-10 md:grid-cols-5 lg:grid-cols-10";return(()=>{var n=Ns(),l=n.firstChild,r=l.firstChild,s=r.nextSibling,c=l.nextSibling,a=c.firstChild,i=a.nextSibling,o=c.nextSibling,h=o.firstChild,f=h.nextSibling;return u(s,()=>e.val.pName),u(i,()=>e.val.phone),u(f,()=>e.val.idNum),C(()=>le(n,`${e.class} ${t}`)),n})()};var Es=m('<div><div class="col-span-2 text-nowrap"><span class=small-italic-tag>金额（元）:</span><span class=px-1>￥</span></div><div class="col-span-3 sm:col-span-4 md:col-span-3 lg:col-span-4 text-nowrap"><span class=small-italic-tag>中文数字:</span><span class=px-1>');const Se=e=>(()=>{var t=Es(),n=t.firstChild,l=n.firstChild,r=l.nextSibling;r.firstChild;var s=n.nextSibling,c=s.firstChild,a=c.nextSibling;return u(r,()=>e.val.numeral,null),u(a,()=>e.val.sinoNum),C(()=>le(t,`${e.class} grid gap-1 grid-cols-5 sm:grid-cols-6 md:grid-cols-5 lg:grid-cols-6`)),t})(),K=(e,t)=>t.filter((n,l)=>1<<l&e).reduce((n,l)=>`${n}${n&&", "}${l}`,"");var Ps=m('<div class="m-1 grid gap-1 grid-cols-1 md:grid-cols-2">');const I=e=>(()=>{var t=Ps();return u(t,()=>e.children),t})();var Os=m("<div class=m-1><span class=small-italic-tag>出租方"),Ds=m("<div class=m-1><span class=small-italic-tag>承租方"),js=m("<div class=m-1><span class=small-italic-tag>月租"),Bs=m("<div class=m-1><span class=small-italic-tag>押金"),Ts=m('<div class="flex-1 flex flex-col"><span class=small-italic-tag>电器</span><span>'),Is=m('<div class="flex-none flex flex-col"><span class=small-italic-tag>允许</span><span>'),cn=m('<div class="m-1 flex flex-row gap-2">'),Rs=m('<div class="flex-1 flex flex-col"><span class=small-italic-tag>杂费</span><span>'),Fs=m('<div class="flex-none flex flex-col"><span class=small-italic-tag>设施</span><span>'),Ms=m('<div class="m-1 flex flex-row gap-4"><div class="flex flex-col"><span class=small-italic-tag>起始日期</span><span></span></div><div class="flex flex-col"><span class=small-italic-tag>租期</span><span>个月</span></div><div class="flex flex-col"><span class=small-italic-tag>付款周期</span><span>个月'),Vs=m("<span class=small-italic-tag>附加条款"),qs=m("<span>"),Hs=m('<div class="m-1 flex flex-col">'),Us=m('<div class="m-1 p-1">');const Ks=e=>(()=>{var t=Us();return u(t,d(I,{get children(){return[(()=>{var n=Os();return n.firstChild,u(n,d(tt,{get val(){return e.val.lessor},class:""}),null),n})(),(()=>{var n=Ds();return n.firstChild,u(n,d(tt,{get val(){return e.val.lessee},class:""}),null),n})()]}}),null),u(t,d(I,{get children(){return[(()=>{var n=js();return n.firstChild,u(n,d(Se,{get val(){return e.val.monthly},class:""}),null),n})(),(()=>{var n=Bs();return n.firstChild,u(n,d(Se,{get val(){return e.val.deposit},class:""}),null),n})()]}}),null),u(t,d(I,{get children(){return[(()=>{var n=cn();return u(n,d(w,{get when(){return e.val.applias>0},get children(){var l=Ts(),r=l.firstChild,s=r.nextSibling;return u(s,()=>K(e.val.applias,Vt)),l}}),null),u(n,d(w,{get when(){return e.val.allows>0},get children(){var l=Is(),r=l.firstChild,s=r.nextSibling;return u(s,()=>K(e.val.allows,Fn)),l}}),null),n})(),(()=>{var n=cn();return u(n,d(w,{get when(){return e.val.feeBits>0},get children(){var l=Rs(),r=l.firstChild,s=r.nextSibling;return u(s,()=>K(e.val.feeBits,qt)),l}}),null),u(n,d(w,{get when(){return e.val.facilis>0},get children(){var l=Fs(),r=l.firstChild,s=r.nextSibling;return u(s,()=>K(e.val.facilis,Ht)),l}}),null),n})()]}}),null),u(t,d(I,{get children(){return[(()=>{var n=Ms(),l=n.firstChild,r=l.firstChild,s=r.nextSibling,c=l.nextSibling,a=c.firstChild,i=a.nextSibling,o=i.firstChild,h=c.nextSibling,f=h.firstChild,g=f.nextSibling,p=g.firstChild;return u(s,()=>je(e.val.fromDay)),u(i,()=>e.val.tenancy,o),u(g,()=>e.val.payCyc,p),n})(),(()=>{var n=Hs();return u(n,d(w,{get when(){return e.val.extrall.length>0},get children(){return[Vs(),(()=>{var l=qs();return u(l,()=>e.val.extrall),l})()]}})),n})()]}}),null),t})();var Zs=m('<div class="grid gap-1 grid-cols-5 sm:grid-cols-10 md:grid-cols-5 lg:grid-cols-10"><label class="col-span-2 flex flex-col"><span class=small-italic-tag>姓名</span><input type=text required class="form-input px-2 py-1 placeholder:italic edit-with-border secondary-ground invalid:edit-border-warn"></label><label class="col-span-3 flex flex-col"><span class=small-italic-tag>手机</span><input type=text required class="form-input px-2 py-1 placeholder:italic edit-with-border secondary-ground invalid:edit-border-warn"></label><label class="col-span-5 flex flex-col"><span class=small-italic-tag>身份证</span><input type=text required class="form-input px-2 py-1 placeholder:italic edit-with-border secondary-ground invalid:edit-border-warn">');const vt={pName:`${A.min} - ${A.mid} 个字符`,phone:`${Rt} 位手机号码`,idNum:`${Ft} 位身份证号码`},$t={pName:`^\\s*\\S.{${A.min-2},${A.mid-2}}\\S\\s*$`,phone:`^\\s*1[0-9]{${Rt-1}}\\s*$`,idNum:`^\\s*[1-9][0-9]{${Ft-2}}([0-9]|x|X)$\\s*`},nt=e=>(()=>{var t=Zs(),n=t.firstChild,l=n.firstChild,r=l.nextSibling,s=n.nextSibling,c=s.firstChild,a=c.nextSibling,i=s.nextSibling,o=i.firstChild,h=o.nextSibling;return r.$$input=f=>e.cb({...e.pd,pName:f.currentTarget.value}),a.$$input=f=>e.cb({...e.pd,phone:f.currentTarget.value}),h.$$input=f=>e.cb({...e.pd,idNum:f.currentTarget.value}),C(f=>{var g=vt.pName,p=$t.pName,$=vt.phone,v=$t.phone,b=vt.idNum,x=$t.idNum;return g!==f.e&&N(r,"placeholder",f.e=g),p!==f.t&&N(r,"pattern",f.t=p),$!==f.a&&N(a,"placeholder",f.a=$),v!==f.o&&N(a,"pattern",f.o=v),b!==f.i&&N(h,"placeholder",f.i=b),x!==f.n&&N(h,"pattern",f.n=x),f},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),C(()=>r.value=e.pd.pName),C(()=>a.value=e.pd.phone),C(()=>h.value=e.pd.idNum),t})();Q(["input"]);var zs=m('<div><label class="col-span-2 flex flex-col"><span class=small-italic-tag>金额（元）</span><input type=number class="form-input px-2 py-1 edit-with-border secondary-ground invalid:edit-border-warn placeholder:italic"required></label><label class="col-span-3 sm:col-span-4 md:col-span-3 lg:col-span-4 flex flex-col"><span class=small-italic-tag>中文数字</span><input type=text class="form-input px-2 py-1 edit-with-border secondary-ground invalid:edit-border-warn placeholder:italic"required>');const Ws=`^\\s*\\S{${A.min},${A.mid}}\\s*$`,Gs=`${A.min} - ${A.mid} 个非空字符`,Ae=e=>{const t=`${e.min} - ${e.max}`;return(()=>{var n=zs(),l=n.firstChild,r=l.firstChild,s=r.firstChild,c=r.nextSibling,a=l.nextSibling,i=a.firstChild,o=i.firstChild,h=i.nextSibling;return u(r,()=>e.label,s),c.$$input=f=>e.cb({...e.money,numeral:Number.parseInt(f.currentTarget.value)}),N(c,"placeholder",t),u(i,()=>e.label,o),h.$$input=f=>e.cb({...e.money,sinoNum:f.currentTarget.value}),N(h,"placeholder",Gs),N(h,"pattern",Ws),C(f=>{var g=`${e.class} grid gap-1 grid-cols-5 sm:grid-cols-6 md:grid-cols-5 lg:grid-cols-6`,p=e.min,$=e.max;return g!==f.e&&le(n,f.e=g),p!==f.t&&N(c,"min",f.t=p),$!==f.a&&N(c,"max",f.a=$),f},{e:void 0,t:void 0,a:void 0}),C(()=>c.value=e.money.numeral),C(()=>h.value=e.money.sinoNum),n})()};Q(["input"]);var Ys=m('<label><span class=small-italic-tag></span><input type=number class="form-input px-2 py-1 edit-with-border secondary-ground invalid:edit-border-warn placeholder:italic"required>');const on=e=>(()=>{var t=Ys(),n=t.firstChild,l=n.nextSibling;return u(n,()=>e.tl),l.$$input=r=>e.cb(Number.parseInt(r.currentTarget.value)),C(r=>{var s=`${e.cs} flex flex-col`,c=`${e.min} - ${e.max}`,a=e.min,i=e.max;return s!==r.e&&le(t,r.e=s),c!==r.t&&N(l,"placeholder",r.t=c),a!==r.a&&N(l,"min",r.a=a),i!==r.o&&N(l,"max",r.o=i),r},{e:void 0,t:void 0,a:void 0,o:void 0}),C(()=>l.value=e.val),t})();Q(["input"]);var Xs=m('<div class=m-1><div class="p-2 flex-row-vcenter justify-between opacity-75"><div class="p-1 hover:bg-slate-800"></div><span class="p-1 text-lg"></span><div class="p-1 hover:bg-slate-800"></div></div><table class="border-separate border-spacing-2"><thead><tr></tr></thead><tbody>'),Js=m('<th class="opacity-50 pointer-events-none">'),Qs=m("<tr class=text-center>"),ei=m('<td><span class="inline-block px-2 py-1">'),ti=m('<div><div><p class=small-italic-tag></p><div class="secondary-ground rounded-border-1">');const Fe=["日","一","二","三","四","五","六"],un=24*36e5,ni=e=>{let t=new Date(e.valueOf()-(e.getDay()+Fe.length)*un);return[0,1,2,3,4].map(n=>Fe.map((l,r)=>new Date(t.valueOf()+(r+Fe.length*n)*un)))},li=e=>{const[t,n]=_(new Date),l=()=>ni(t()),r=s=>s.getFullYear()===e.dt.getFullYear()&&s.getMonth()===e.dt.getMonth()&&s.getDate()===e.dt.getDate();return(()=>{var s=Xs(),c=s.firstChild,a=c.firstChild,i=a.nextSibling,o=i.nextSibling,h=c.nextSibling,f=h.firstChild,g=f.firstChild,p=f.nextSibling;return u(a,d(Gr,{onClick:()=>n($=>($.setMonth($.getMonth()-1),new Date($.valueOf())))})),u(i,()=>Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"2-digit"}).format(t())),u(o,d(Yr,{onClick:()=>n($=>($.setMonth($.getMonth()+1),new Date($.valueOf())))})),u(g,d(q,{each:Fe,children:$=>(()=>{var v=Js();return u(v,$),v})()})),u(p,d(nl,{get each(){return l()},children:$=>(()=>{var v=Qs();return u(v,d(q,{get each(){return $()},children:b=>(()=>{var x=ei(),y=x.firstChild;return x.$$click=()=>e.cb(b),u(y,()=>b.getDate()),C(()=>le(x,r(b)?"font-semibold rounded-lg ring-2 ring-slate-500":"cursor-pointer hover:bg-slate-800")),x})()})),v})()})),s})()},Mn=e=>{let t;const[n,l]=_(!1);return(()=>{var r=ti(),s=r.firstChild,c=s.firstChild,a=c.nextSibling;u(c,()=>e.tl);var i=t;return typeof i=="function"?at(i,a):t=a,u(a,d(zr,{get label(){return je(e.dt)},onClick:()=>l(!0)})),u(r,d(Tn,{get shown(){return n()},toggle:o=>l(o),trigger:t,get children(){return d(li,{get dt(){return Ls(e.dt)},cb:o=>{o&&e.cb(Mt(o)),l(!1)}})}}),null),C(()=>le(s,`${e.cs}`)),r})()};Q(["click"]);var ri=m('<div><span class=small-italic-tag></span><div class="flex-row-vcenter flex-wrap">'),si=m('<label class="px-2 py-1 rounded secondary-ground flex-row-vcenter"><input type=checkbox class="form-checkbox w-5 h-5 rounded bg-slate-800"><span class="text-nowrap opacity-70 hover:opacity-90">');const ge=e=>{const t=()=>e.cLabels.map((l,r)=>({key:r,val:(1<<r&e.bitsNum)>0,tag:l})),n=(l,r)=>r?e.bitsNum&~(1<<l):e.bitsNum|1<<l;return(()=>{var l=ri(),r=l.firstChild,s=r.nextSibling;return u(r,()=>e.gLabel),u(s,d(q,{get each(){return t()},children:c=>(()=>{var a=si(),i=a.firstChild,o=i.nextSibling;return i.addEventListener("change",()=>e.cb(n(c.key,c.val))),u(o,()=>c.tag),C(()=>i.checked=c.val),a})()})),C(()=>le(l,`${e.class}`)),l})()};var ii=m("<div class=m-1><p class=small-italic-tag>出租方"),ai=m("<div class=m-1><p class=small-italic-tag>承租方"),pt=m("<div class=m-1>"),bt=m('<div class="m-1 flex flex-row gap-1">'),ci=m('<div class="m-1 p-1">');const Ut=e=>{const t=()=>e.val.lessor,n=()=>e.val.lessee,l=()=>e.val.fromDay,r=()=>e.val.tenancy,s=()=>e.val.payCyc,c=()=>e.val.allows,a=()=>e.val.facilis,i=()=>e.val.monthly,o=()=>e.val.deposit,h=()=>e.val.applias,f=()=>e.val.feeBits,g=()=>e.val.extrall;return(()=>{var p=ci();return u(p,d(I,{get children(){return[(()=>{var $=ii();return $.firstChild,u($,d(nt,{get pd(){return t()},cb:v=>e.cb({...e.val,lessor:v})}),null),$})(),(()=>{var $=ai();return $.firstChild,u($,d(nt,{get pd(){return n()},cb:v=>e.cb({...e.val,lessee:v})}),null),$})()]}}),null),u(p,d(I,{get children(){return[(()=>{var $=pt();return u($,d(Ae,{get money(){return i()},label:"月租",get min(){return j.min*me},get max(){return j.max*me},cb:v=>e.cb({...e.val,monthly:v})})),$})(),(()=>{var $=pt();return u($,d(Ae,{get money(){return o()},label:"押金",get min(){return j.min*me},get max(){return j.max*me},cb:v=>e.cb({...e.val,deposit:v})})),$})()]}}),null),u(p,d(I,{get children(){return[(()=>{var $=bt();return u($,d(ge,{get bitsNum(){return h()},gLabel:"电器",class:"flex-1",cLabels:Vt,cb:v=>e.cb({...e.val,applias:v})}),null),u($,d(ge,{get bitsNum(){return c()},gLabel:"允许",class:"flex-none",cLabels:Fn,cb:v=>e.cb({...e.val,allows:v})}),null),$})(),(()=>{var $=bt();return u($,d(ge,{get bitsNum(){return f()},gLabel:"杂费",class:"flex-1",cLabels:qt,cb:v=>e.cb({...e.val,feeBits:v})}),null),u($,d(ge,{get bitsNum(){return a()},gLabel:"设施",class:"flex-none",cLabels:Ht,cb:v=>e.cb({...e.val,facilis:v})}),null),$})()]}}),null),u(p,d(I,{get children(){return[(()=>{var $=bt();return u($,d(Mn,{cs:"basis-1/3",get dt(){return l()},tl:"起始",cb:v=>e.cb({...e.val,fromDay:v})}),null),u($,d(on,{cs:"basis-1/3",tl:"租期(月)",get val(){return r()},get min(){return A.min},get max(){return A.max},cb:v=>e.cb({...e.val,tenancy:v})}),null),u($,d(on,{cs:"basis-1/3",tl:"付款周期(月)",get val(){return s()},get min(){return A.min},get max(){return e.val.tenancy},cb:v=>e.cb({...e.val,payCyc:v})}),null),$})(),(()=>{var $=pt();return u($,d(Dn,{tl:"附加条款",get val(){return g()},cb:v=>e.cb({...e.val,extrall:v}),get max(){return j.max}})),$})()]}}),null),p})()};var oi=m('<p class="px-2 py-1 absolute top-2 left-8">房屋租赁'),ui=m('<p class="mx-2 my-1 px-2 py-1">'),di=m('<nav class="absolute top-2 right-2 flex-row-vcenter">'),fi=m('<div class="m-2 p-2 flex items-center justify-center">Loading ...'),hi=m('<div><nav class="absolute top-2 right-2 flex-row-vcenter">');const mi=()=>{const e=G(),[t,n]=_(Lt),[l,r]=_(),s=()=>{const i=new ve(t());return i.isValid()&&!i.isEqual(Lt)},c=()=>{if(l()){const i={...l(),lease:new ve(t()).entity};z(Number.parseInt(e.fid),i).then(()=>{r(i)}).catch(o=>console.error("create flat failed",o))}},a=()=>{if(l()){const i={...l(),lease:void 0};z(Number.parseInt(e.fid),i).then(()=>{r(i)}).catch(o=>console.error("clear flat buysell failed",o))}};return W(()=>{e.fid&&re(Number.parseInt(e.fid)).then(i=>r(i)).catch(i=>console.error("get flat failed",i))}),[oi(),d(w,{get when(){return l()},get fallback(){return fi()},get children(){return[(()=>{var i=ui();return u(i,()=>l().address),i})(),d(w,{get when(){return l().lease},get fallback(){return(()=>{var i=hi(),o=i.firstChild;return u(i,d(Ut,{get val(){return t()},cb:h=>n(h)}),o),u(o,d(w,{get when(){return s()},get children(){return d(Y,{label:"保存",onClick:c})}})),i})()},get children(){return[d(Ks,{get val(){return l().lease}}),(()=>{var i=di();return u(i,d(Bn,{label:"清除",onClick:()=>a()}),null),u(i,d(It,{label:"修改",get href(){return`/${e.fid}/led`}}),null),u(i,d(Ge,{label:"协议",get href(){return`/${e.fid}/lease`}}),null),i})()]}})]}})]};var gi=m('<p class="px-2 py-1 absolute top-2 left-8">编辑租赁协议'),vi=m('<p class="mx-2 my-1 px-2 py-1">'),$i=m('<nav class="absolute top-2 right-2 flex-row-vcenter">'),pi=m('<div class="m-2 p-2 flex items-center justify-center">Loading ...');const bi=()=>{const e=G(),t=De(),[n,l]=_(),[r,s]=_(),c=()=>{if(n()){const i=new ve(n());return i.isValid()&&!i.isEqual(r().lease)}else return!1},a=i=>{if(i){const o={...r(),lease:new ve(n()).entity};z(Number.parseInt(e.fid),o).then(()=>{t(`/${e.fid}/lvw`,{replace:!0,state:{t:"租赁协议"}})}).catch(h=>console.error("upsert flat failed",h))}else t(`/${e.fid}/lvw`,{replace:!0,state:{t:"租赁协议"}})};return W(()=>{e.fid&&re(Number.parseInt(e.fid)).then(i=>{s(i),i&&(i.lease||(i.lease=Lt),l(i.lease))}).catch(i=>console.error("get flat failed",i))}),[gi(),d(w,{get when(){return n()},get fallback(){return pi()},get children(){return[(()=>{var i=vi();return u(i,()=>r().address),i})(),d(Ut,{get val(){return n()},cb:i=>l(i)}),(()=>{var i=$i();return u(i,d(w,{get when(){return c()},get fallback(){return d(se,{label:"取消",onClick:()=>a(!1)})},get children(){return d(Y,{label:"保存",onClick:()=>a(!0)})}})),i})()]}})]};let xi=class{constructor(t){this.articles=[];const n=`租金由乙方入住前全额支付，共￥${t.payCyc*t.monthly.numeral}元。`,l=t.tenancy/t.payCyc,r=t.tenancy%t.payCyc;let s=`租金支付周期为${t.payCyc}个月, 每期￥${t.monthly.numeral*t.payCyc}元, 乙方需期前支付`;s+=r?`, 最后一期付${r}个月租金￥${t.monthly.numeral*r}元。`:`, 共分${l}期。`,this.articles.push({k:"权责与用途",v:["甲方作为出租方将房屋出租给乙方, 并作为出租方保证房屋无纠纷、负责协调社区事务、保障房屋的正常使用。","乙方作为承租方租借此房屋用于个人居住，并承诺未经甲方允许，不会改变房屋用途。",`${(t.allows&2)>0?"乙方可以在承担管理责任的情况下将房屋转租给第三方，转租截止期不能超过本协议截止期，本协议结束前乙方需及时清退第三方租户， 。":"乙方将以整租的方式承租，未经甲方允许，乙方不得将房屋转租给第三方。"}`]}),this.articles.push({k:"租期",v:[`租期从${je(t.fromDay)}起算, 共${t.tenancy}个月。`,`如双方在租期结束前都未提出解约要求，则依此协议双方续约${t.payCyc}个月， 以后依次类推。
                如一方无意续约，需在租期结束前，提前至少半个月通知对方解约。`]}),this.articles.push({k:"租金与押金",v:[`双方议定月租金为￥${t.monthly.numeral}元(${t.monthly.sinoNum}),
                ${t.payCyc===t.tenancy?n:s}`,`乙方在入住前支付押金￥${t.deposit.numeral}元（${t.deposit.sinoNum}），用于保证协议的正常履行。
                租期内，如乙方提前解约或因乙方的过错致双方解约（甲方无责），押金可作为乙方的违约金赔偿给甲方，
                如甲方提前解约或因甲方的过错致双方解约（乙方无责），甲方返还押金并另外支付与押金等额的赔偿给乙方。`,"如乙方未能及时缴纳租金或押金，且甲方催缴无果，则按乙方违约处理, 迟缴超过两周，甲方可解约并扣留押金作为补偿。"]}),this.articles.push({k:"杂费",v:[t.feeBits?`租期内，乙方负责缴纳的费用包括${K(t.feeBits,qt)}，拖缴费用的后果由乙方承担。未列明的其他费用由甲方支付。`:"租期内，甲方负责支付与房屋有关的各种杂费。如甲方未及时缴纳应缴费用并影响到乙方的生活，乙方可自行缴纳并向甲方索偿。"]}),this.articles.push({k:"电器与设施",v:[t.applias?`甲方提供${K(t.applias,Vt)}并负责相关维修, 
                    如甲方不能及时履行维修责任, 乙方有权自行维修并由甲方承担费用。`:"甲方不提供电器，也不对乙方自备的电器设施提供保障维修。",t.facilis?`甲方提供${K(t.facilis,Ht)}设施供乙方使用并提供维修。`:"",(t.allows&1)>0?"甲方允许乙方在不影响房屋结构的情况下对房屋内部做装修或维修，水电管线等设施出现的问题由乙方自行解决。":"甲方不允许乙方对房屋内部做装修或维修，水电管线等设施出现的问题由甲方负责解决。"]}),this.articles.push({k:"违规与免责",v:["乙方由于自身的原因造成的人身安全或意外事故，责任与赔偿需自行承担。","乙方不得在周边滋事扰民、如发生高空抛物、打架斗殴等事件，从事黄赌毒等犯罪活动，甲方有权解约并由乙方担责。"]}),this.articles.push({k:"解约与退款",v:["租期内，如果因不可抗的原因致使双方无法继续履约，各方无需承担违约责任，但甲方应退还押金及部分已收取的租金(按履约日期计算比例)。","如甲方或乙方提前解约，甲方应退还部分已收取的租金，押金按前述《租金与押金》条款处理。","如乙方转租给第三方，在租期结束时未及时清退第三方租户的情况下，甲方将按日计算加倍收取租金。","租期结束时，甲方收回房屋并退还押金给乙方, 乙方搬离，留存的物品视为放弃，甲方可自行处置。"]}),this.articles.push({k:"争议解决",v:["在本协议履行过程中发生无法协商解决的争议时，双方将首选申请仲裁解决。"]})}};var yi=m('<div class="grid gap-1 grid-cols-7 flex-row-vcenter"><div class="col-span-2 text-nowrap flex-row-vcenter"><span>:</span><span></span></div><div class="col-span-5 text-nowrap flex-row-vcenter"><span>身份证:</span><span>');const lt=e=>(()=>{var t=yi(),n=t.firstChild,l=n.firstChild,r=l.firstChild,s=l.nextSibling,c=n.nextSibling,a=c.firstChild,i=a.nextSibling;return u(l,()=>e.tag,r),u(s,()=>e.val.pName),u(i,()=>e.val.idNum),t})();var wi=m('<div class="m-1 p-1 print:p-0"><div class=p-1><p class="p-1 print:text-sm">房屋租赁协议</p><article class="p-1 print:text-xs"><span>依据《中华人民共和国民法典》，甲方（出租方）与乙方（承租方）在平等、自愿的基础上， 就位于</span><span class="underline underline-offset-4"></span><span>的房屋租赁达成以下协议：</span></article><section class="p-1 grid gap-1 grid-cols-1 sm:grid-cols-2"><div class=print:text-xs></div><div class=print:text-xs></div></section></div><section class="p-1 print:text-xs"><p class=p-1></p></section><section class="hidden print:block text-xs"><p class=p-2>本协议一式两份，甲乙双方各执一份，具有同等法律效力。</p><div class="p-1 grid gap-1 grid-cols-1 sm:grid-cols-2"><div class=col-span-1><p class="p-1 text-nowrap">甲方手机: </p><p class="p-1 text-nowrap">甲方签字: </p><p class="p-1 text-nowrap">签字日期: </p></div><div class=col-span-1><p class="p-1 text-nowrap">乙方手机: </p><p class="p-1 text-nowrap">乙方签字: </p><p class="p-1 text-nowrap">签字日期: '),_i=m('<article class="flex flex-row gap-1 print:text-xs"><p class="p-1 min-w-5">.</p><div><p class=p-1>'),Ci=m("<div class=px-1>");const ki=e=>{const t=new xi(e.lease);return(()=>{var n=wi(),l=n.firstChild,r=l.firstChild,s=r.nextSibling,c=s.firstChild,a=c.nextSibling,i=s.nextSibling,o=i.firstChild,h=o.nextSibling,f=l.nextSibling,g=f.firstChild,p=f.nextSibling,$=p.firstChild,v=$.nextSibling,b=v.firstChild,x=b.firstChild;x.firstChild;var y=b.nextSibling,P=y.firstChild;return P.firstChild,u(a,()=>e.fAddr),u(o,d(lt,{get val(){return e.lease.lessor},tag:"甲方"})),u(h,d(lt,{get val(){return e.lease.lessee},tag:"乙方"})),u(l,d(q,{get each(){return t.articles},children:(L,k)=>(()=>{var T=_i(),M=T.firstChild,V=M.firstChild,X=M.nextSibling,be=X.firstChild;return u(M,()=>k()+1,V),u(be,()=>L.k),u(X,d(q,{get each(){return L.v},children:xe=>(()=>{var ie=Ci();return u(ie,xe),ie})()}),null),T})()}),null),u(g,()=>e.lease.extrall),u(x,()=>e.lease.lessor.phone,null),u(P,()=>e.lease.lessee.phone,null),n})()};var Si=m('<p class="px-2 py-1 absolute top-2 left-8">租赁协议'),Ai=m('<p class="px-4 py-2">'),Li=m('<nav class="absolute top-2 right-2 flex-row-vcenter print:hidden">'),Ni=m('<div><nav class="absolute top-2 right-2 flex-row-vcenter print:hidden">');const Ei=()=>{const e=G(),[t,n]=_(),[l,r]=_(),[s,c]=_(!1),a=()=>{const o=new ve(l());return o.isValid()&&!o.isEqual(t().lease)},i=()=>{const o={...t(),lease:new ve(l()).entity};z(Number.parseInt(e.fid),o).then(()=>{n(o),c(!1)}).catch(h=>console.error("upsert flat failed",h))};return W(()=>{e.fid&&re(Number.parseInt(e.fid)).then(o=>{n(o),r(o==null?void 0:o.lease)}).catch(o=>console.error("get flat failed",o))}),[Si(),d(w,{get when(){return E(()=>!!t())()&&t().lease},get children(){return d(w,{get when(){return s()},get fallback(){return(()=>{var o=Ni(),h=o.firstChild;return u(o,d(ki,{get lease(){return t().lease},get fAddr(){return t().address}}),h),u(h,d(jn,{label:"修改",onClick:()=>c(!0)})),o})()},get children(){return[(()=>{var o=Ai();return u(o,()=>t().address),o})(),d(Ut,{get val(){return l()},cb:o=>r(o)}),(()=>{var o=Li();return u(o,d(w,{get when(){return a()},get children(){return d(Y,{label:"保存",onClick:()=>i()})}}),null),u(o,d(se,{label:"取消",onClick:()=>c(!1)}),null),o})()]}})}})]},Kt=["空调","冰箱","洗衣机","电视机","燃气灶","热水器"],Zt=["床具","衣柜","沙发","桌椅","茶几","橱柜"],Nt={vendor:Xe,vendee:Xe,certicy:"",hammer:As,earnest:an,balance:an,fromDay:Mt(new Date),applias:0,furnits:0,extrall:""};class $e{constructor(t){this.isValid=()=>this.entity.extrall.length<=j.max&&Qe(this.entity.vendor)&&Qe(this.entity.vendee)&&this.entity.certicy.length>=j.min&&this.entity.certicy.length<=j.mid&&Ce(this.entity.hammer)&&Ce(this.entity.earnest)&&Ce(this.entity.balance)&&this.entity.applias>=0&&this.entity.furnits>=0,this.isEqual=n=>Rn(this.entity.fromDay,n.fromDay)&&et(this.entity.vendor,n.vendor)&&et(this.entity.vendee,n.vendee)&&ke(this.entity.hammer,n.hammer)&&this.entity.certicy===n.certicy&&ke(this.entity.earnest,n.earnest)&&ke(this.entity.balance,n.balance)&&this.entity.applias===n.applias&&this.entity.furnits===n.furnits&&this.entity.extrall===n.extrall,this.entity={...t,vendor:new Je(t.vendor).entity,vendee:new Je(t.vendee).entity,certicy:t.certicy.trim(),hammer:new _e(t.hammer).entity,earnest:new _e(t.earnest).entity,balance:new _e(t.balance).entity,extrall:t.extrall.trim()}}}var Pi=m("<div class=m-1><span class=small-italic-tag>卖方"),Oi=m("<div class=m-1><span class=small-italic-tag>买方"),Di=m("<div class=m-1><span class=small-italic-tag>成交价"),ji=m("<div class=m-1><span class=small-italic-tag>定金"),Bi=m("<div class=m-1><span class=small-italic-tag>尾款"),Ti=m("<span class=small-italic-tag>家电"),xt=m("<span>"),Ii=m('<div class="flex-1 flex flex-col">'),Ri=m("<span class=small-italic-tag>家具"),Fi=m('<div class="flex-none flex flex-col">'),Mi=m('<div class="m-1 flex flex-row gap-4"><div class="flex flex-col"><span class=small-italic-tag>起始日期</span><span>'),Vi=m("<span class=small-italic-tag>附加条款"),qi=m('<div class="m-1 flex flex-col">'),Hi=m('<div class="m-1 p-1">');const Ui=e=>(()=>{var t=Hi();return u(t,d(I,{get children(){return[(()=>{var n=Pi();return n.firstChild,u(n,d(tt,{get val(){return e.val.vendor},class:""}),null),n})(),(()=>{var n=Oi();return n.firstChild,u(n,d(tt,{get val(){return e.val.vendee},class:""}),null),n})()]}}),null),u(t,d(I,{get children(){return[(()=>{var n=Di();return n.firstChild,u(n,d(Se,{get val(){return e.val.hammer},class:""}),null),n})(),(()=>{var n=ji();return n.firstChild,u(n,d(Se,{get val(){return e.val.earnest},class:""}),null),n})()]}}),null),u(t,d(I,{get children(){var n=Bi();return n.firstChild,u(n,d(Se,{get val(){return e.val.balance},class:""}),null),n}}),null),u(t,d(I,{get children(){return[(()=>{var n=Ii();return u(n,d(w,{get when(){return e.val.applias>0},get children(){return[Ti(),(()=>{var l=xt();return u(l,()=>K(e.val.applias,Kt)),l})()]}})),n})(),(()=>{var n=Fi();return u(n,d(w,{get when(){return e.val.furnits>0},get children(){return[Ri(),(()=>{var l=xt();return u(l,()=>K(e.val.furnits,Zt)),l})()]}})),n})()]}}),null),u(t,d(I,{get children(){return[(()=>{var n=Mi(),l=n.firstChild,r=l.firstChild,s=r.nextSibling;return u(s,()=>je(e.val.fromDay)),n})(),(()=>{var n=qi();return u(n,d(w,{get when(){return e.val.extrall.length>0},get children(){return[Vi(),(()=>{var l=xt();return u(l,()=>e.val.extrall),l})()]}})),n})()]}}),null),t})();var Ki=m("<div class=m-1><p class=small-italic-tag>卖方"),Zi=m("<div class=m-1><p class=small-italic-tag>买方"),Ie=m("<div class=m-1>"),zi=m('<div class="m-1 flex flex-col gap-1"><span class=small-italic-tag>产权证'),Wi=m('<div class="m-1 flex flex-row gap-1">'),Gi=m('<div class="m-1 p-1">');const zt=e=>{const t=()=>e.val.vendor,n=()=>e.val.vendee,l=()=>e.val.fromDay,r=()=>e.val.hammer,s=()=>e.val.certicy,c=()=>e.val.earnest,a=()=>e.val.balance,i=()=>e.val.applias,o=()=>e.val.furnits,h=()=>e.val.extrall;return(()=>{var f=Gi();return u(f,d(I,{get children(){return[(()=>{var g=Ki();return g.firstChild,u(g,d(nt,{get pd(){return t()},cb:p=>e.cb({...e.val,vendor:p})}),null),g})(),(()=>{var g=Zi();return g.firstChild,u(g,d(nt,{get pd(){return n()},cb:p=>e.cb({...e.val,vendee:p})}),null),g})()]}}),null),u(f,d(I,{get children(){return[(()=>{var g=Ie();return u(g,d(Ae,{get money(){return r()},label:"成交价",get min(){return j.min*Ye},get max(){return j.max*Ye},cb:p=>e.cb({...e.val,hammer:p})})),g})(),(()=>{var g=Ie();return u(g,d(Ae,{get money(){return c()},label:"定金",get min(){return j.min*At},get max(){return r().numeral},cb:p=>e.cb({...e.val,earnest:p})})),g})()]}}),null),u(f,d(I,{get children(){return[(()=>{var g=zi();return g.firstChild,u(g,d(Ne,{get val(){return s()},cb:p=>e.cb({...e.val,certicy:p}),get min(){return j.min},get max(){return j.mid}}),null),g})(),(()=>{var g=Ie();return u(g,d(Ae,{get money(){return a()},label:"尾款",get min(){return j.min*At},get max(){return r().numeral},cb:p=>e.cb({...e.val,balance:p})})),g})()]}}),null),u(f,d(I,{get children(){return[d(ge,{get bitsNum(){return i()},gLabel:"家电",class:"",cLabels:Kt,cb:g=>e.cb({...e.val,applias:g})}),d(ge,{get bitsNum(){return o()},gLabel:"家具",class:"",cLabels:Zt,cb:g=>e.cb({...e.val,furnits:g})})]}}),null),u(f,d(I,{get children(){return[(()=>{var g=Wi();return u(g,d(Mn,{cs:"basis-1/3",get dt(){return l()},tl:"交付日期",cb:p=>e.cb({...e.val,fromDay:p})})),g})(),(()=>{var g=Ie();return u(g,d(Dn,{tl:"附加条款",get val(){return h()},cb:p=>e.cb({...e.val,extrall:p}),get max(){return j.max}})),g})()]}}),null),f})()};var Yi=m('<p class="px-2 py-1 absolute top-2 left-8">房屋买卖'),Xi=m('<p class="mx-2 my-1 px-2 py-1">'),Ji=m('<nav class="absolute top-2 right-2 flex-row-vcenter">'),Qi=m('<div class="m-2 p-2 flex items-center justify-center">Loading ...'),ea=m('<div><nav class="absolute top-2 right-2 flex-row-vcenter">');const ta=()=>{const e=G(),[t,n]=_(Nt),[l,r]=_(),s=()=>{const i=new $e(t());return i.isValid()&&!i.isEqual(Nt)},c=()=>{if(l()){const i={...l(),bsell:new $e(t()).entity};z(Number.parseInt(e.fid),i).then(()=>{r(i)}).catch(o=>console.error("create flat failed",o))}},a=()=>{if(l()){const i={...l(),bsell:void 0};z(Number.parseInt(e.fid),i).then(()=>{r(i)}).catch(o=>console.error("clear flat buysell failed",o))}};return W(()=>{e.fid&&re(Number.parseInt(e.fid)).then(i=>r(i)).catch(i=>console.error("get flat failed",i))}),[Yi(),d(w,{get when(){return l()},get fallback(){return Qi()},get children(){return[(()=>{var i=Xi();return u(i,()=>l().address),i})(),d(w,{get when(){return l().bsell},get fallback(){return(()=>{var i=ea(),o=i.firstChild;return u(i,d(zt,{get val(){return t()},cb:h=>n(h)}),o),u(o,d(w,{get when(){return s()},get children(){return d(Y,{label:"保存",onClick:c})}})),i})()},get children(){return[d(Ui,{get val(){return l().bsell}}),(()=>{var i=Ji();return u(i,d(Bn,{label:"清除",onClick:()=>a()}),null),u(i,d(It,{label:"修改",get href(){return`/${e.fid}/bed`}}),null),u(i,d(Ge,{label:"协议",get href(){return`/${e.fid}/bsell`}}),null),i})()]}})]}})]};var na=m('<p class="px-2 py-1 absolute top-2 left-8">编辑买卖协议'),la=m('<p class="mx-2 my-1 px-2 py-1">'),ra=m('<nav class="absolute top-2 right-2 flex-row-vcenter">'),sa=m('<div class="m-2 p-2 flex items-center justify-center">Loading ...');const ia=()=>{const e=G(),t=De(),[n,l]=_(),[r,s]=_(),c=()=>{if(n()){const i=new $e(n());return i.isValid()&&!i.isEqual(r().bsell)}else return!1},a=i=>{if(i){const o={...r(),bsell:new $e(n()).entity};z(Number.parseInt(e.fid),o).then(()=>{t(`/${e.fid}/bvw`,{replace:!0,state:{t:"买卖协议"}})}).catch(h=>console.error("upsert flat failed",h))}else t(`/${e.fid}/bvw`,{replace:!0,state:{t:"买卖协议"}})};return W(()=>{e.fid&&re(Number.parseInt(e.fid)).then(i=>{s(i),i&&(i.bsell||(i.bsell=Nt),l(i.bsell))}).catch(i=>console.error("get flat failed",i))}),[na(),d(w,{get when(){return n()},get fallback(){return sa()},get children(){return[(()=>{var i=la();return u(i,()=>r().address),i})(),d(zt,{get val(){return n()},cb:i=>l(i)}),(()=>{var i=ra();return u(i,d(w,{get when(){return c()},get fallback(){return d(se,{label:"取消",onClick:()=>a(!1)})},get children(){return d(Y,{label:"保存",onClick:()=>a(!0)})}})),i})()]}})]};class aa{constructor(t){this.articles=[],this.articles.push({k:"房屋",v:[`甲方将其自有的房屋及配套的土地使用权出售给乙方（房屋的产权证号： ${t.certicy}）。`,"甲方作为该房产真实产权人，承诺并保证此房产无任何权属或经济纠纷， 并承担权属或经济纠纷造成的违约责任。","交易房产的面积以产权证为准，产权证之外涉及的购买时获赠或甲方搭建、扩建部分无偿转送给乙方，不得再由甲方占有或使用。"]}),this.articles.push({k:"价格与付款",v:[`甲乙双方确定的不含税费的房屋成交价为￥${t.hammer.numeral}元(${t.hammer.sinoNum})。`,"双方同意交易资金委托银行进行资金监管，并按双方与银行签署的交易资金监管协议履行付款流程。",`成交价中包括用于保证双方正常履约的定金￥${t.earnest.numeral}元(${t.earnest.sinoNum}), 定金确定了协议无法履行时的赔付额。
                在甲方单方违约的情况下，乙方收回定金并由甲方另行赔付与定金等额的赔款给乙方。在乙方单方违约的情况下，定金就将作为违约金赔付给甲方`,`成交价中包括的另一项费用是尾款￥${t.balance.numeral}元(${t.balance.sinoNum})。
                尾款用于保证房屋过户后乙方可以正常入住， 防止因甲方的原因造成的第三方占用房屋等情况，以及补足甲方欠缴水电、燃气等其他费用。`,"房屋成交价的其余款项可按交易资金监管协议中的约定在房屋过户后支付给甲方。","房屋交易中涉及的契税、增值税及所得税等各项费用的负担方式或双方分担比例按国家相关规定执行，不再另行约定。"]}),this.articles.push({k:"设施",v:[t.applias>0?`房屋中原有的${K(t.applias,Kt)}附赠給乙方, 甲方负责将其完好交付给乙方。`:"本交易不包括任何家电设施、甲方有权自行处置原有家电设施。",t.furnits>0?`房屋中原有的${K(t.furnits,Zt)}附赠給乙方, 甲方负责将其完好交付给乙方。`:"本交易不包括任何家具设施、甲方有权自行处置原有家具设施。","房屋中原有的装饰装修将保持现状，甲方在未征得乙方同意的情况下不得在签约后更改房屋格局及装修状态，应保证在房屋交付时原有的装饰装修完好无损。"]}),this.articles.push({k:"交付日期",v:[`甲方须在${je(t.fromDay)}前，与乙方共同向房地产产权登记机关申请办理转移登记手续。
                如因甲方的过失或不配合，造成乙方不能在一周内内取得房地产权属证书，乙方有权解约并按甲方违约处理。`,"乙方在取得房地产权属证书后，甲方应清空房屋并搬离，同时将落户于该房产内的户籍关系迁出，确保在一周内将房屋交付给乙方。","交付日之前该房屋产生的水、电、气、通讯、物业等费用均由甲方承担，甲方应在房屋交付前结清以上费用，否则乙方有权从尾款中直接予以扣除。","如因政策调整等非双方过错原因，造成房屋无法过户，甲方应返还乙方已付所有款项，双方互不承担违约责任。"]}),this.articles.push({k:"违规与免责",v:[`除不可抗力影响外, 甲方未按本合同约定期限交付房屋或迁出户籍关系的, 每逾期一日, 甲方应按乙方已付房款的1%支付违约金，违约金可从履约保证金中直接抵扣, 
                逾期交房或迁出户籍超过半个月的, 甲方违约，乙方有权解除合同。`,"本协议签订时甲方故意隐瞒该房屋已出租给第三方或已抵押的事实，导致乙方不能入住，乙方有权解除合同并向甲方索赔十倍于定金的赔偿金。","本协议签订时甲方故意隐瞒该房屋已设定居住权的事实，乙方有权在居住权有效期内退回房屋，收回全部资金并向甲方索赔十倍于定金的赔偿金。"]}),this.articles.push({k:"争议解决",v:["在本协议履行过程中发生无法协商解决的争议时，双方将首选申请仲裁解决。"]})}}var ca=m('<div class="m-1 p-1 print:p-0"><div class=p-1><p class="p-1 print:text-sm">房屋买卖协议</p><article class="p-1 print:text-xs"><span>依据《中华人民共和国民法典》，甲方（卖方）与乙方（买方）在平等、自愿的基础上， 就位于</span><span class="underline underline-offset-4"></span><span>的房屋买卖达成以下协议：</span></article><section class="p-1 grid gap-1 grid-cols-1 sm:grid-cols-2"><div class=print:text-xs></div><div class=print:text-xs></div></section></div><section class="p-1 print:text-xs"><p class=p-1></p></section><section class="hidden print:block text-xs"><p class=p-2>本协议一式两份，甲乙双方各执一份，具有同等法律效力。</p><div class="p-1 grid gap-1 grid-cols-1 sm:grid-cols-2"><div class=col-span-1><p class="p-1 text-nowrap">甲方手机: </p><p class="p-1 text-nowrap">甲方签字: </p><p class="p-1 text-nowrap">签字日期: </p></div><div class=col-span-1><p class="p-1 text-nowrap">乙方手机: </p><p class="p-1 text-nowrap">乙方签字: </p><p class="p-1 text-nowrap">签字日期: '),oa=m('<article class="flex flex-row gap-1 print:text-xs"><p class="p-1 min-w-5">.</p><div><p class=p-1>'),ua=m("<div class=px-1>");const da=e=>{const t=new aa(e.bsell);return(()=>{var n=ca(),l=n.firstChild,r=l.firstChild,s=r.nextSibling,c=s.firstChild,a=c.nextSibling,i=s.nextSibling,o=i.firstChild,h=o.nextSibling,f=l.nextSibling,g=f.firstChild,p=f.nextSibling,$=p.firstChild,v=$.nextSibling,b=v.firstChild,x=b.firstChild;x.firstChild;var y=b.nextSibling,P=y.firstChild;return P.firstChild,u(a,()=>e.fAddr),u(o,d(lt,{get val(){return e.bsell.vendor},tag:"甲方"})),u(h,d(lt,{get val(){return e.bsell.vendee},tag:"乙方"})),u(l,d(q,{get each(){return t.articles},children:(L,k)=>(()=>{var T=oa(),M=T.firstChild,V=M.firstChild,X=M.nextSibling,be=X.firstChild;return u(M,()=>k()+1,V),u(be,()=>L.k),u(X,d(q,{get each(){return L.v},children:xe=>(()=>{var ie=ua();return u(ie,xe),ie})()}),null),T})()}),null),u(g,()=>e.bsell.extrall),u(x,()=>e.bsell.vendor.phone,null),u(P,()=>e.bsell.vendee.phone,null),n})()};var fa=m('<p class="px-2 py-1 absolute top-2 left-8">买卖协议'),ha=m('<p class="px-4 py-2">'),ma=m('<nav class="absolute top-2 right-2 flex-row-vcenter print:hidden">'),ga=m('<div><nav class="absolute top-2 right-2 flex-row-vcenter print:hidden">');const va=()=>{const e=G(),[t,n]=_(),[l,r]=_(),[s,c]=_(!1),a=()=>{const o=new $e(l());return o.isValid()&&!o.isEqual(t().bsell)},i=()=>{const o={...t(),bsell:new $e(l()).entity};z(Number.parseInt(e.fid),o).then(()=>{n(o),c(!1)}).catch(h=>console.error("upsert flat failed",h))};return W(()=>{e.fid&&re(Number.parseInt(e.fid)).then(o=>{n(o),r(o==null?void 0:o.bsell)}).catch(o=>console.error("get flat failed",o))}),[fa(),d(w,{get when(){var o;return E(()=>!!t())()&&((o=t())==null?void 0:o.bsell)},get children(){return d(w,{get when(){return s()},get fallback(){return(()=>{var o=ga(),h=o.firstChild;return u(o,d(da,{get bsell(){return t().bsell},get fAddr(){return t().address}}),h),u(h,d(jn,{label:"修改",onClick:()=>c(!0)})),o})()},get children(){return[(()=>{var o=ha();return u(o,()=>t().address),o})(),d(zt,{get val(){return l()},cb:o=>r(o)}),(()=>{var o=ma();return u(o,d(w,{get when(){return a()},get children(){return d(Y,{label:"保存",onClick:()=>i()})}}),null),u(o,d(se,{label:"取消",onClick:()=>c(!1)}),null),o})()]}})}})]},ye="Homemo 住哪儿",$a=[{k:"介绍",v:["本文档旨在说明我们处理个人数据的方式和原则，帮助用户了解我们对数据的保护政策。",`这里的隐私政策适用于《${ye}》涉及的Web网站及App应用。`]},{k:"信息",v:[`《${ye}》涉及的Web网站及App应用目前并不涉及用户注册及登录, 不会收集任何用户信息。`,`《${ye}》涉及的应用数据仅保存于本机设备，这些数据由用户自行管理及使用。`]},{k:"Cookies",v:[`《${ye}》不使用Cookies对用户进行个人信息收集与跟踪。`]},{k:"第三方",v:[`《${ye}》涉及的Web网站托管于第三方平台, 托管平台收集的访问和使用网站的信息，
            有关您的计算机的IP地址、地理位置、浏览器类型和版本以及操作系统等数据由第三方负责管理。`]},{k:"变更",v:["我们的隐私政策可能变更，任何变更不会削减用户按照本隐私政策所应享有的权利。"]}];var pa=m('<p class="px-2 py-1 absolute top-2 left-8">隐私声明'),ba=m('<div class="px-3 py-2">'),xa=m("<article><p class=p-1>.<span class=px-4>"),ya=m('<div class="ps-8 pe-4">');const wa=()=>[pa(),(()=>{var e=ba();return u(e,d(q,{each:$a,children:(t,n)=>(()=>{var l=xa(),r=l.firstChild,s=r.firstChild,c=s.nextSibling;return u(r,()=>n()+1,s),u(c,()=>t.k),u(l,d(q,{get each(){return t.v},children:a=>(()=>{var i=ya();return u(i,a),i})()}),null),l})()})),e})()];hl(()=>d(nr,{root:ar,get children(){return[d(U,{path:"/:fid?",component:$s,matchFilters:{fid:/^\d+$/}}),d(U,{path:"/ed/:fid?",component:ws,matchFilters:{fid:/^\d+$/}}),d(U,{path:"/:fid/dele",component:Ss,matchFilters:{fid:/^\d+$/}}),d(U,{path:"/:fid/lvw",component:mi,matchFilters:{fid:/^\d+$/}}),d(U,{path:"/:fid/led",component:bi,matchFilters:{fid:/^\d+$/}}),d(U,{path:"/:fid/lease",component:Ei,matchFilters:{fid:/^\d+$/}}),d(U,{path:"/:fid/bvw",component:ta,matchFilters:{fid:/^\d+$/}}),d(U,{path:"/:fid/bed",component:ia,matchFilters:{fid:/^\d+$/}}),d(U,{path:"/:fid/bsell",component:va,matchFilters:{fid:/^\d+$/}}),d(U,{path:"/policy",component:wa}),d(U,{path:"*pathing",component:ur})]}}),document.getElementById("root"));
